!function(){function O(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function I(a,b){return b>a?-1:a>b?1:a>=b?0:0/0}function X(a){return null===a?0/0:+a}function w(a){return!isNaN(a)}function S(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);e>d;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);e>d;){var f=d+e>>>1;0<a(b[f],
c)?e=f:d=f+1}return d}}}function da(a){return a.length}function qa(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function Q(){this._=Object.create(null)}function T(a){return(a+="")===wg||a[0]===Ec?Ec+a:a}function fa(a){return(a+="")[0]===Ec?a.slice(1):a}function ra(a){return T(a)in this._}function h(a){return(a=T(a))in this._&&delete this._[a]}function m(){var a=[],b;for(b in this._)a.push(fa(b));return a}function g(){var a=0,b;for(b in this._)++a;return a}function p(){for(var a in this._)return!1;
return!0}function r(){this._=Object.create(null)}function u(a){return a}function x(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function R(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Rd.length;d>c;++c){var e=Rd[c]+b;if(e in a)return e}}function E(){}function K(){}function Sd(a){function b(){for(var b,d=c,k=-1,l=d.length;++k<l;)(b=d[k].on)&&b.apply(this,arguments);return a}var c=[],d=new Q;return b.on=function(b,f){var k,l=d.get(b);return 2>
arguments.length?l&&l.on:(l&&(l.on=null,c=c.slice(0,k=c.indexOf(l)).concat(c.slice(k+1)),d.remove(b)),f&&c.push(d.set(b,{on:f})),a)},b}function Ma(){n.event.preventDefault()}function M(){for(var a,b=n.event;a=b.sourceEvent;)b=a;return b}function ha(a){for(var b=new K,c=0,d=arguments.length;++c<d;)b[arguments[c]]=Sd(b);return b.of=function(c,d){return function(k){try{var l=k.sourceEvent=n.event;k.target=a;n.event=k;b[k.type].apply(c,d)}finally{n.event=l}}},b}function ma(a){return Eb(a,U),a}function Fc(a){return"function"==
typeof a?a:function(){return Gc(a,this)}}function Td(a){return"function"==typeof a?a:function(){return Hc(a,this)}}function Ud(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function k(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function l(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,
a.local,c)}return a=n.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?l:k:a.local?f:e}function Vd(a){return a.trim().replace(/\s+/g," ")}function Wd(a){return new RegExp("(?:^|\\s+)"+n.requote(a)+"(?:\\s+|$)","g")}function Xd(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=(a+"").trim().split(/^|\s+/).map(xg);var e=a.length;return"function"==typeof b?d:c}function xg(a){var b=Wd(a);return function(c,d){if(e=
c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",Vd(e+" "+a))):c.setAttribute("class",Vd(e.replace(b," ")))}}function Yd(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function Zd(a,b){function c(){delete this[a]}function d(){this[a]=
b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function $d(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=n.ns.qualify(a)).local?c:b}function yg(){var a=this.parentNode;a&&a.removeChild(this)}function ae(a){return function(){return Ic(this,a)}}function zg(a){return arguments.length||
(a=I),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function Ea(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],k=0,l=f.length;l>k;k++)(e=f[k])&&b(e,k,c);return a}function be(a){return Eb(a,Fa),a}function Ag(a){var b,c;return function(d,e,f){d=a[f].update;var k=d.length;f!=c&&(c=f,b=0);for(e>=b&&(b=e+1);!(e=d[b])&&++b<k;);return e}}function ce(a,b,c){function d(){var b=this[k];b&&(this.removeEventListener(a,b,b.$),delete this[k])}function e(){var f=v(b,Na(arguments));d.call(this);
this.addEventListener(a,this[k]=f,f.$=c);f._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+n.requote(a)+"$"),d;for(d in this)if(b=d.match(c)){var f=this[d];this.removeEventListener(b[1],f,f.$);delete this[d]}}var k="__on"+a,l=a.indexOf("."),v=de;0<l&&(a=a.slice(0,l));var q=Jc.get(a);return q&&(a=q,v=Bg),l?b?e:d:b?E:f}function de(a,b){return function(c){var d=n.event;n.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{n.event=d}}}function Bg(a,b){var c=de(a,b);return function(a){var b=a.relatedTarget;
b&&(b===this||8&b.compareDocumentPosition(this))||c.call(this,a)}}function Fb(a){var b=".dragsuppress-"+ ++Cg,c="click"+b,d=n.select(O(a)).on("touchmove"+b,Ma).on("dragstart"+b,Ma).on("selectstart"+b,Ma);if(null==Va&&(Va="onselectstart"in a?!1:R(a.style,"userSelect")),Va){var e=(a&&(a.ownerDocument||a.document||a).documentElement).style,f=e[Va];e[Va]="none"}return function(a){if(d.on(b,null),Va&&(e[Va]=f),a){var l=function(){d.on(c,null)};d.on(c,function(){Ma();l()},!0);setTimeout(l,0)}}}function Kc(a,
b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>Lc&&(c=O(a),c.scrollX||c.scrollY)){var c=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=c[0][0].getScreenCTM();Lc=!(e.f||e.e);c.remove()}return Lc?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}d=a.getBoundingClientRect();return[b.clientX-
d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}function Dg(){return n.event.changedTouches[0].identifier}function Mc(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function ee(a){return 1<a?0:-1>a?L:Math.acos(a)}function Oa(a){return 1<a?aa:-1>a?-aa:Math.asin(a)}function fe(a){return((a=Math.exp(a))+1/a)/2}function ge(a){return(a=Math.sin(a/2))*a}function Wa(){}function Aa(a,b,c){return this instanceof Aa?(this.h=+a,this.s=+b,void(this.l=+c)):2>arguments.length?a instanceof Aa?new Aa(a.h,
a.s,a.l):he(""+a,ie,Aa):new Aa(a,b,c)}function Nc(a,b,c){function d(a){return 360<a?a-=360:0>a&&(a+=360),60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f;return a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c,f=.5>=c?c*(1+b):c+b-c*b,e=2*c-f,new ja(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function va(a,b,c){return this instanceof va?(this.h=+a,this.c=+b,void(this.l=+c)):2>arguments.length?a instanceof va?new va(a.h,a.c,a.l):a instanceof
wa?je(a.l,a.a,a.b):je((a=ke((a=n.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new va(a,b,c)}function Oc(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new wa(c,Math.cos(a*=G)*b,Math.sin(a)*b)}function wa(a,b,c){return this instanceof wa?(this.l=+a,this.a=+b,void(this.b=+c)):2>arguments.length?a instanceof wa?new wa(a.l,a.a,a.b):a instanceof va?Oc(a.h,a.c,a.l):ke((a=ja(a)).r,a.g,a.b):new wa(a,b,c)}function le(a,b,c){a=(a+16)/116;b=a+b/500;c=a-c/200;return b=Pc(b)*me,a=Pc(a)*ne,c=Pc(c)*oe,new ja(Qc(3.2404542*b-1.5371385*
a-.4985314*c),Qc(-.969266*b+1.8760108*a+.041556*c),Qc(.0556434*b-.2040259*a+1.0572252*c))}function je(a,b,c){return 0<a?new va(Math.atan2(c,b)*Z,Math.sqrt(b*b+c*c),a):new va(0/0,0/0,a)}function Pc(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function Rc(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Qc(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ja(a,b,c){return this instanceof ja?(this.r=~~a,this.g=~~b,void(this.b=~~c)):2>arguments.length?a instanceof
ja?new ja(a.r,a.g,a.b):he(""+a,ja,Nc):new ja(a,b,c)}function Gb(a){return new ja(a>>16,a>>8&255,255&a)+""}function fb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function he(a,b,c){var d,e,f,k=0,l=0,v=0;if(d=/([a-z]+)\((.*)\)/i.exec(a))switch(e=d[2].split(","),d[1]){case "hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case "rgb":return b(Sc(e[0]),Sc(e[1]),Sc(e[2]))}return(f=Hb.get(a.toLowerCase()))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||
isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(k=(3840&f)>>4,k|=k>>4,l=240&f,l|=l>>4,v=15&f,v|=v<<4):7===a.length&&(k=(16711680&f)>>16,l=(65280&f)>>8,v=255&f)),b(k,l,v))}function ie(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),k=Math.max(a,b,c),l=k-f,v=(k+f)/2;return l?(e=.5>v?l/(k+f):l/(2-k-f),d=a==k?(b-c)/l+(c>b?6:0):b==k?(c-a)/l+2:(a-b)/l+4,d*=60):(d=0/0,e=0<v&&1>v?0:d),new Aa(d,e,v)}function ke(a,b,c){a=Tc(a);b=Tc(b);c=Tc(c);var d=Rc((.4124564*a+.3575761*b+.1804375*c)/me),e=Rc((.2126729*
a+.7151522*b+.072175*c)/ne);a=Rc((.0193339*a+.119192*b+.9503041*c)/oe);return wa(116*e-16,500*(d-e),200*(e-a))}function Tc(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Sc(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function W(a){return"function"==typeof a?a:function(){return a}}function Uc(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ib(b,c,a,d)}}function Ib(a,b,c,d){function e(){var a,b=v.status,
d;if(d=!b)d=(d=v.responseType)&&"text"!==d?v.response:v.responseText;if(d||200<=b&&300>b||304===b){try{a=c.call(f,v)}catch(e){return void k.error.call(f,e)}k.load.call(f,a)}else k.error.call(f,v)}var f={},k=n.dispatch("beforesend","progress","load","error"),l={},v=new XMLHttpRequest,q=null;return!this.XDomainRequest||"withCredentials"in v||!/^(http(s)?:)?\/\//.test(a)||(v=new XDomainRequest),"onload"in v?v.onload=v.onerror=e:v.onreadystatechange=function(){3<v.readyState&&e()},v.onprogress=function(a){var b=
n.event;n.event=a;try{k.progress.call(f,v)}finally{n.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),2>arguments.length?l[a]:(null==b?delete l[a]:l[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(q=a,f):q},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Na(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==
typeof d&&(e=d,d=null),v.open(c,a,!0),null==b||"accept"in l||(l.accept=b+",*/*"),v.setRequestHeader)for(var n in l)v.setRequestHeader(n,l[n]);return null!=b&&v.overrideMimeType&&v.overrideMimeType(b),null!=q&&(v.responseType=q),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),k.beforesend.call(f,v),v.send(null==d?null:d),f},f.abort=function(){return v.abort(),f},n.rebind(f,k,"on"),null==d?f:f.get(Fg(d))}function Fg(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Vc(){var a=
pe(),a=qe()-a;24<a?(isFinite(a)&&(clearTimeout(Jb),Jb=setTimeout(Vc,a)),Kb=0):(Kb=1,re(Vc))}function pe(){var a=Date.now();for(Ga=Lb;Ga;)a>=Ga.t&&(Ga.f=Ga.c(a-Ga.t)),Ga=Ga.n;return a}function qe(){for(var a,b=Lb,c=1/0;b;)b.f?b=a?a.n=b.n:Lb=b.n:(b.t<c&&(c=b.t),b=(a=b).n);return Mb=a,c}function Wc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Gg(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var f=a.length,e=[],t=0,F=d[0],y=0;0<f&&0<F&&(y+F+1>b&&
(F=Math.max(1,b-y)),e.push(a.substring(f-=F,f+F)),!((y+=F+1)>b));)F=d[t=(t+1)%d.length];return e.reverse().join(c)}:u;return function(a){a=se.exec(a);var c=a[1]||" ",d=a[2]||">",q=a[3]||"-",t=a[4]||"",F=a[5],y=+a[6],g=a[7],h=a[8],V=a[9],m=1,z="",A="",C=!1,N=!0;switch(h&&(h=+h.substring(1)),(F||"0"===c&&"="===d)&&(F=c="0",d="="),V){case "n":g=!0;V="g";break;case "%":m=100;A="%";V="f";break;case "p":m=100;A="%";V="r";break;case "b":case "o":case "x":case "X":"#"===t&&(z="0"+V.toLowerCase());case "c":N=
!1;case "d":C=!0;h=0;break;case "s":m=-1,V="r"}"$"===t&&(z=e[0],A=e[1]);"r"!=V||h||(V="g");null!=h&&("g"==V?h=Math.max(1,Math.min(21,h)):("e"==V||"f"==V)&&(h=Math.max(0,Math.min(20,h))));var V=Hg.get(V)||Ig,p=F&&g;return function(a){var e=A;if(C&&a%1)return"";var k=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===q?"":q;0>m?(e=n.formatPrefix(a,h),a=e.scale(a),e=e.symbol+A):a*=m;a=V(a,h);var t,u,r=a.lastIndexOf(".");0>r?(r=N?a.lastIndexOf("e"):-1,0>r?(t=a,u=""):(t=a.substring(0,r),u=a.substring(r))):(t=a.substring(0,
r),u=b+a.substring(r+1));!F&&g&&(t=f(t,1/0));var r=z.length+t.length+u.length+(p?0:k.length),x=y>r?Array(r=y-r+1).join(c):"";return p&&(t=f(x+t,x.length?y-u.length:1/0)),k+=z,a=t+u,("<"===d?k+a+x:">"===d?x+k+a:"^"===d?x.substring(0,r>>=1)+k+a+x.substring(r):k+(p?a:x+a))+e}}}function Ig(a){return a+""}function Ha(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ya(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new ga(c-
1)),1),c}function f(a,c){return b(a=new ga(+a),c),a}function k(a,d,f){a=e(a);var l=[];if(1<f)for(;d>a;)c(a)%f||l.push(new Date(+a)),b(a,1);else for(;d>a;)l.push(new Date(+a)),b(a,1);return l}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=k;var l=a.utc=Nb(a);return l.floor=l,l.round=Nb(d),l.ceil=Nb(e),l.offset=Nb(f),l.range=function(a,b,c){try{ga=Ha;var d=new Ha;return d._=a,k(d,b,c)}finally{ga=Date}},a}function Nb(a){return function(b,c){try{ga=Ha;var d=new Ha;return d._=b,a(d,c)._}finally{ga=Date}}}
function Jg(a){function b(a){function b(c){for(var f,e,l,k=[],v=-1,q=0;++v<d;)37===a.charCodeAt(v)&&(k.push(a.slice(q,v)),null!=(e=te[f=a.charAt(++v)])&&(f=a.charAt(++v)),(l=p[f])&&(f=l(c,null==e?"e"===f?" ":"0":e)),k.push(f),q=v+1);return k.push(a.slice(q,v)),k.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&ga!==Ha;var f=new (b?Ha:ga);return"j"in d?f.setFullYear(d.y,0,d.j):
"w"in d&&("W"in d||"U"in d)?(f.setFullYear(d.y,0,1),f.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(f.getDay()+5)%7:d.w+7*d.U-(f.getDay()+6)%7)):f.setFullYear(d.y,d.m,d.d),f.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),b?f._:f},b.toString=function(){return a},b}function c(a,b,c,d){for(var f,e,l,k=0,v=b.length,q=c.length;v>k;){if(d>=q)return-1;if(f=b.charCodeAt(k++),37===f){if(l=b.charAt(k++),e=r[l in te?b.charAt(k++):l],!e||0>(d=e(a,c,d)))return-1}else if(f!=c.charCodeAt(d++))return-1}return d}var d=
a.dateTime,e=a.date,f=a.time,k=a.periods,l=a.days,v=a.shortDays,q=a.months,t=a.shortMonths;b.utc=function(a){function c(a){try{ga=Ha;var b=new ga;return b._=a,d(b)}finally{ga=Date}}var d=b(a);return c.parse=function(a){try{ga=Ha;var b=d.parse(a);return b&&b._}finally{ga=Date}},c.toString=d.toString,c};b.multi=b.utc.multi=Kg;var F=n.map(),y=Ob(l),g=Pb(l),h=Ob(v),m=Pb(v),P=Ob(q),z=Pb(q),A=Ob(t),C=Pb(t);k.forEach(function(a,b){F.set(a.toLowerCase(),b)});var p={a:function(a){return v[a.getDay()]},A:function(a){return l[a.getDay()]},
b:function(a){return t[a.getMonth()]},B:function(a){return q[a.getMonth()]},c:b(d),d:function(a,b){return ka(a.getDate(),b,2)},e:function(a,b){return ka(a.getDate(),b,2)},H:function(a,b){return ka(a.getHours(),b,2)},I:function(a,b){return ka(a.getHours()%12||12,b,2)},j:function(a,b){return ka(1+D.dayOfYear(a),b,3)},L:function(a,b){return ka(a.getMilliseconds(),b,3)},m:function(a,b){return ka(a.getMonth()+1,b,2)},M:function(a,b){return ka(a.getMinutes(),b,2)},p:function(a){return k[+(12<=a.getHours())]},
S:function(a,b){return ka(a.getSeconds(),b,2)},U:function(a,b){return ka(D.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return ka(D.mondayOfYear(a),b,2)},x:b(e),X:b(f),y:function(a,b){return ka(a.getFullYear()%100,b,2)},Y:function(a,b){return ka(a.getFullYear()%1E4,b,4)},Z:Lg,"%":function(){return"%"}},r={a:function(a,b,c){h.lastIndex=0;return(b=h.exec(b.slice(c)))?(a.w=m.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){y.lastIndex=0;return(b=y.exec(b.slice(c)))?
(a.w=g.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){A.lastIndex=0;return(b=A.exec(b.slice(c)))?(a.m=C.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){P.lastIndex=0;return(b=P.exec(b.slice(c)))?(a.m=z.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,d){return c(a,p.c.toString(),b,d)},d:ue,e:ue,H:ve,I:ve,j:Mg,L:Ng,m:Og,M:Pg,p:function(a,b,c){b=F.get(b.slice(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:Qg,U:Rg,w:Sg,W:Tg,x:function(a,b,d){return c(a,p.x.toString(),
b,d)},X:function(a,b,d){return c(a,p.X.toString(),b,d)},y:Ug,Y:Vg,Z:Wg,"%":Xg};return b}function ka(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(c>e?Array(c-e+1).join(b)+a:a)}function Ob(a){return new RegExp("^(?:"+a.map(n.requote).join("|")+")","i")}function Pb(a){for(var b=new Q,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Sg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Rg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c)))?
(a.U=+b[0],c+b[0].length):-1}function Tg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function Vg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function Ug(a,b,c){ba.lastIndex=0;if(b=ba.exec(b.slice(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a}function Wg(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function Og(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+2)))?(a.m=
b[0]-1,c+b[0].length):-1}function ue(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function Mg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function ve(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Pg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Qg(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):
-1}function Ng(a,b,c){ba.lastIndex=0;return(b=ba.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Lg(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=H(b)/60|0,b=H(b)%60;return a+ka(c,"0",2)+ka(b,"0",2)}function Xg(a,b,c){we.lastIndex=0;return(a=we.exec(b.slice(c,c+1)))?c+a[0].length:-1}function Kg(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,f=a[c];!f[1](b);)f=a[++c];return f[0](b)}}function Xc(){}function xe(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-
(d-e)+(b-e)}function Qb(a,b){a&&ye.hasOwnProperty(a.type)&&ye[a.type](a,b)}function Yc(a,b,c){var d=-1,e=a.length-c;for(b.lineStart();++d<e;)c=a[d],b.point(c[0],c[1],c[2]);b.lineEnd()}function ze(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Yc(a[c],b,1);b.polygonEnd()}function Yg(){function a(a,b){a*=G;b=b*G/2+L/4;var c=a-d,q=0<=c?1:-1,t=q*c,c=Math.cos(b),F=Math.sin(b),y=f*F,n=e*c+y*Math.cos(t),q=y*q*Math.sin(t);Za.add(Math.atan2(q,n));d=a;e=c;f=F}var b,c,d,e,f;na.point=function(k,l){na.point=
a;d=(b=k)*G;e=Math.cos(l=(c=l)*G/2+L/4);f=Math.sin(l)};na.lineEnd=function(){a(b,c)}}function $a(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function Rb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function gb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Zc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Sb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Tb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=
b}function Ub(a){return[Math.atan2(a[1],a[0]),Oa(a[2])]}function Vb(a,b){return H(a[0]-b[0])<B&&H(a[1]-b[1])<B}function $c(a,b){a*=G;var c=Math.cos(b*=G);rb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function rb(a,b,c){++sb;Ia+=(a-Ia)/sb;Ja+=(b-Ja)/sb;Ba+=(c-Ba)/sb}function Ae(){function a(a,f){a*=G;var k=Math.cos(f*=G),l=k*Math.cos(a),k=k*Math.sin(a),v=Math.sin(f),q=Math.atan2(Math.sqrt((q=c*v-d*k)*q+(q=d*l-b*v)*q+(q=b*k-c*l)*q),b*l+c*k+d*v);hb+=q;sa+=q*(b+(b=l));ta+=q*(c+(c=k));la+=q*(d+(d=v));rb(b,
c,d)}var b,c,d;ya.point=function(e,f){e*=G;var k=Math.cos(f*=G);b=k*Math.cos(e);c=k*Math.sin(e);d=Math.sin(f);ya.point=a;rb(b,c,d)}}function Be(){ya.point=$c}function Zg(){function a(a,b){a*=G;var c=Math.cos(b*=G),q=c*Math.cos(a),c=c*Math.sin(a),t=Math.sin(b),F=e*t-f*c,y=f*q-d*t,n=d*c-e*q,g=Math.sqrt(F*F+y*y+n*n),h=d*q+e*c+f*t,m=g&&-ee(h)/g,g=Math.atan2(g,h);Pa+=m*F;Qa+=m*y;Ca+=m*n;hb+=g;sa+=g*(d+(d=q));ta+=g*(e+(e=c));la+=g*(f+(f=t));rb(d,e,f)}var b,c,d,e,f;ya.point=function(k,l){b=k;c=l;ya.point=
a;k*=G;var v=Math.cos(l*=G);d=v*Math.cos(k);e=v*Math.sin(k);f=Math.sin(l);rb(d,e,f)};ya.lineEnd=function(){a(b,c);ya.lineEnd=Be;ya.point=$c}}function Ce(a,b){function c(c,e){return c=a(c,e),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,e){return c=b.invert(c,e),c&&a.invert(c[0],c[1])}),c}function ib(){return!0}function De(a,b,c,d,e){var f=[],k=[];if(a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(Vb(c,d)){e.lineStart();for(d=0;b>d;++d)e.point((c=a[d])[0],c[1]);
return void e.lineEnd()}b=new Wb(c,a,null,!0);c=new Wb(c,null,b,!1);b.o=c;f.push(b);k.push(c);b=new Wb(d,a,null,!1);c=new Wb(d,null,b,!0);b.o=c;f.push(b);k.push(c)}}),k.sort(b),Ee(f),Ee(k),f.length){a=0;b=c;for(c=k.length;c>a;++a)k[a].e=b=!b;for(var l,v=f[0];;){for(var q=v,t=!0;q.v;)if((q=q.n)===v)return;b=q.z;e.lineStart();do{if(q.v=q.o.v=!0,q.e){if(t)for(a=0,c=b.length;c>a;++a)e.point((l=b[a])[0],l[1]);else d(q.x,q.n.x,1,e);q=q.n}else{if(t)for(b=q.p.z,a=b.length-1;0<=a;--a)e.point((l=b[a])[0],l[1]);
else d(q.x,q.p.x,-1,e);q=q.p}q=q.o;b=q.z;t=!t}while(!q.v);e.lineEnd()}}}function Ee(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0];c.p=e}}function Wb(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function Fe(a,b,c,d){return function(e,f){function k(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function l(a,b){var c=e(a,b);P.point(c[0],c[1])}function v(){A.point=l;P.lineStart()}function q(){A.point=k;P.lineEnd()}function t(a,b){m.push([a,
b]);var c=e(a,b);p.point(c[0],c[1])}function F(){p.lineStart();m=[]}function y(){t(m[0][0],m[0][1]);p.lineEnd();var a;a=p.clean();var b=C.buffer(),c=b.length;if(m.pop(),h.push(m),m=null,c)if(1&a){a=b[0];var d,c=a.length-1,b=-1;if(0<c){r||(f.polygonStart(),r=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&2&a&&b.push(b.pop().concat(b.shift())),g.push(b.filter($g))}var g,h,m,P=b(f),z=e.invert(d[0],d[1]),A={point:k,lineStart:v,lineEnd:q,polygonStart:function(){A.point=t;
A.lineStart=F;A.lineEnd=y;g=[];h=[]},polygonEnd:function(){A.point=k;A.lineStart=v;A.lineEnd=q;g=n.merge(g);var a,b=z;a=h;var d=b[0],e=b[1],l=[Math.sin(d),-Math.cos(d),0],t=0,y=0;Za.reset();for(var F=0,m=a.length;m>F;++F){var V=a[F],C=V.length;if(C)for(var P=V[0],p=P[0],b=P[1]/2+L/4,N=Math.sin(b),u=Math.cos(b),x=1;;){x===C&&(x=0);var b=V[x],E=b[0],D=b[1]/2+L/4,R=Math.sin(D),D=Math.cos(D),M=E-p,w=0<=M?1:-1,K=w*M,G=K>L,N=N*R;if(Za.add(Math.atan2(N*w*Math.sin(K),u*D+N*Math.cos(K))),t+=G?M+w*oa:M,G^p>=
d^E>=d)P=gb($a(P),$a(b)),Tb(P),p=gb(l,P),Tb(p),p=(G^0<=M?-1:1)*Oa(p[2]),(e>p||e===p&&(P[0]||P[1]))&&(y+=G^0<=M?1:-1);if(!x++)break;p=E;N=R;u=D;P=b}}a=(-B>t||B>t&&0>Za)^1&y;g.length?(r||(f.polygonStart(),r=!0),De(g,ah,a,c,f)):a&&(r||(f.polygonStart(),r=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());r&&(f.polygonEnd(),r=!1);g=h=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},C=He(),p=b(C),r=!1;return A}}function $g(a){return 1<a.length}function He(){var a,
b=[];return{lineStart:function(){b.push(a=[])},point:function(b,d){a.push([b,d])},lineEnd:E,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function ah(a,b){return(0>(a=a.x)[0]?a[1]-aa-B:aa-a[1])-(0>(b=b.x)[0]?b[1]-aa-B:aa-b[1])}function bh(a){function b(a,b){return Math.cos(a)*Math.cos(b)>e}function c(a,b,c){var d=$a(a),f=$a(b),l=[1,0,0],f=gb(d,f),k=Rb(f,f),d=f[0],g=k-d*d;if(!g)return!c&&a;k=e*k/g;g=-e*d/g;d=gb(l,f);l=Sb(l,k);f=Sb(f,
g);Zc(l,f);f=Rb(l,d);k=Rb(d,d);g=f*f-k*(Rb(l,l)-1);if(!(0>g)){var n=Math.sqrt(g),g=Sb(d,(-f-n)/k);if(Zc(g,l),g=Ub(g),!c)return g;var h;c=a[0];var m=b[0];a=a[1];b=b[1];c>m&&(h=c,c=m,m=h);var C=m-c,p=H(C-L)<B,r=p||B>C;if(!p&&a>b&&(h=a,a=b,b=h),r?p?0<a+b^g[1]<(H(g[0]-c)<B?a:b):a<=g[1]&&g[1]<=b:C>L^(c<=g[0]&&g[0]<=m))return h=Sb(d,(-f+n)/k),Zc(h,l),[g,Ub(h)]}}function d(b,c){var d=f?a:L-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var e=Math.cos(a),f=0<e,k=H(e)>B,l=ad(a,6*G);return Fe(b,
function(a){var e,l,F,y,g;return{lineStart:function(){y=F=!1;g=1},point:function(n,h){var m,z=[n,h],A=b(n,h),C=f?A?0:d(n,h):A?d(n+(0>n?L:-L),h):0;if(!e&&(y=F=A)&&a.lineStart(),A!==F&&(m=c(e,z),(Vb(e,m)||Vb(z,m))&&(z[0]+=B,z[1]+=B,A=b(z[0],z[1]))),A!==F)g=0,A?(a.lineStart(),m=c(z,e),a.point(m[0],m[1])):(m=c(e,z),a.point(m[0],m[1]),a.lineEnd()),e=m;else if(k&&e&&f^A){var p;C&l||!(p=c(z,e,!0))||(g=0,f?(a.lineStart(),a.point(p[0][0],p[0][1]),a.point(p[1][0],p[1][1]),a.lineEnd()):(a.point(p[1][0],p[1][1]),
a.lineEnd(),a.lineStart(),a.point(p[0][0],p[0][1])))}!A||e&&Vb(e,z)||a.point(z[0],z[1]);e=z;F=A;l=C},lineEnd:function(){F&&a.lineEnd();e=null},clean:function(){return g|(y&&F)<<1}}},l,f?[0,-a]:[-L,a-L])}function Ie(a,b,c,d){return function(e){var f,k=e.a,l=e.b,v=k.x,k=k.y,q=0,t=1,F=l.x-v,l=l.y-k;if(f=a-v,F||!(0<f)){if(f/=F,0>F){if(q>f)return;t>f&&(t=f)}else if(0<F){if(f>t)return;f>q&&(q=f)}if(f=c-v,F||!(0>f)){if(f/=F,0>F){if(f>t)return;f>q&&(q=f)}else if(0<F){if(q>f)return;t>f&&(t=f)}if(f=b-k,l||
!(0<f)){if(f/=l,0>l){if(q>f)return;t>f&&(t=f)}else if(0<l){if(f>t)return;f>q&&(q=f)}if(f=d-k,l||!(0>f)){if(f/=l,0>l){if(f>t)return;f>q&&(q=f)}else if(0<l){if(q>f)return;t>f&&(t=f)}return 0<q&&(e.a={x:v+q*F,y:k+q*l}),1>t&&(e.b={x:v+t*F,y:k+t*l}),e}}}}}}function Je(a,b,c,d){function e(d,f){return H(d[0]-a)<B?0<f?0:3:H(d[0]-c)<B?0<f?2:1:H(d[1]-b)<B?0<f?1:0:0<f?3:2}function f(a,b){return k(a.x,b.x)}function k(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:
b[0]-a[0]}return function(l){function v(f,l,q,v){var t=0,y=0;if(null==f||(t=e(f,q))!==(y=e(l,q))||0>k(f,l)^0<q){do v.point(0===t||3===t?a:c,1<t?d:b);while((t=(t+q+4)%4)!==y)}else v.point(l[0],l[1])}function q(f,e){f>=a&&c>=f&&e>=b&&d>=e&&l.point(f,e)}function t(f,e){f=Math.max(-Xb,Math.min(Xb,f));e=Math.max(-Xb,Math.min(Xb,e));var k=f>=a&&c>=f&&e>=b&&d>=e;if(y&&g.push([f,e]),N)h=f,m=e,p=k,N=!1,k&&(l.lineStart(),l.point(f,e));else if(k&&C)l.point(f,e);else{var q={a:{x:z,y:A},b:{x:f,y:e}};xa(q)?(C||
(l.lineStart(),l.point(q.a.x,q.a.y)),l.point(q.b.x,q.b.y),k||l.lineEnd(),r=!1):k&&(l.lineStart(),l.point(f,e),r=!1)}z=f;A=e;C=k}var F,y,g,h,m,p,z,A,C,N,r,J=l,u=He(),xa=Ie(a,b,c,d),ca={point:q,lineStart:function(){ca.point=t;y&&y.push(g=[]);N=!0;C=!1;z=A=0/0},lineEnd:function(){F&&(t(h,m),p&&C&&u.rejoin(),F.push(u.buffer()));ca.point=q;C&&l.lineEnd()},polygonStart:function(){l=u;F=[];y=[];r=!0},polygonEnd:function(){l=J;F=n.merge(F);var b;b=[a,d];for(var c=0,e=y.length,k=b[1],q=0;e>q;++q)for(var t,
h=1,m=y[q],C=m.length,z=m[0];C>h;++h)t=m[h],z[1]<=k?t[1]>k&&0<Mc(z,t,b)&&++c:t[1]<=k&&0>Mc(z,t,b)&&--c,z=t;b=0!==c;c=r&&b;e=F.length;(c||e)&&(l.polygonStart(),c&&(l.lineStart(),v(null,null,1,l),l.lineEnd()),e&&De(F,f,b,v,l),l.polygonEnd());F=y=g=null}};return ca}}function bd(a){var b=0,c=L/3,d=cd(a);a=d(b,c);return a.parallels=function(a){return arguments.length?d(b=a[0]*L/180,c=a[1]*L/180):[b/L*180,c/L*180]},a}function Ke(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=
e),k-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),k=Math.sqrt(f)/e;return c.invert=function(a,b){var c=k-b;return[Math.atan2(a,c)/e,Oa((f-(a*a+c*c)*e*e)/(2*e))]},c}function ch(){function a(a,b){Yb+=e*a-d*b;d=a;e=b}var b,c,d,e;Ra.point=function(f,k){Ra.point=a;b=d=f;c=e=k};Ra.lineEnd=function(){a(b,c)}}function dh(){function a(a,b){k.push("M",a,",",b,f)}function b(a,b){k.push("M",a,",",b);l.point=c}function c(a,b){k.push("L",a,",",b)}function d(){l.point=a}function e(){k.push("Z")}
var f=Le(4.5),k=[],l={point:a,lineStart:function(){l.point=b},lineEnd:d,polygonStart:function(){l.lineEnd=e},polygonEnd:function(){l.lineEnd=d;l.point=a},pointRadius:function(a){return f=Le(a),l},result:function(){if(k.length){var a=k.join("");return k=[],a}}};return l}function Le(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function ab(a,b){Ia+=a;Ja+=b;++Ba}function Me(){function a(a,e){var f=a-b,k=e-c,f=Math.sqrt(f*f+k*k);sa+=f*(b+a)/2;ta+=f*(c+e)/2;la+=f;ab(b=a,
c=e)}var b,c;za.point=function(d,e){za.point=a;ab(b=d,c=e)}}function Ne(){za.point=ab}function eh(){function a(a,b){var c=a-d,v=b-e,c=Math.sqrt(c*c+v*v);sa+=c*(d+a)/2;ta+=c*(e+b)/2;la+=c;c=e*a-d*b;Pa+=c*(d+a);Qa+=c*(e+b);Ca+=3*c;ab(d=a,e=b)}var b,c,d,e;za.point=function(f,k){za.point=a;ab(b=d=f,c=e=k)};za.lineEnd=function(){a(b,c)}}function fh(a){function b(b,c){a.moveTo(b+k,c);a.arc(b,c,k,0,oa)}function c(b,c){a.moveTo(b,c);l.point=d}function d(b,c){a.lineTo(b,c)}function e(){l.point=b}function f(){a.closePath()}
var k=4.5,l={point:b,lineStart:function(){l.point=c},lineEnd:e,polygonStart:function(){l.lineEnd=f},polygonEnd:function(){l.lineEnd=e;l.point=b},pointRadius:function(a){return k=a,l},result:E};return l}function Oe(a){function b(a){return(l?d:c)(a)}function c(b){return Pe(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,f){d=a(d,f);b.point(d[0],d[1])}function d(){Y=0/0;B.point=f;b.lineStart()}function f(c,d){var k=$a([c,d]),q=a(c,d);e(Y,xa,J,ca,x,E,Y=q[0],xa=q[1],J=c,ca=k[0],
x=k[1],E=k[2],l,b);b.point(Y,xa)}function k(){B.point=c;b.lineEnd()}function g(){d();B.point=n;B.lineEnd=h}function n(a,b){f(m=a,b);z=Y;p=xa;C=ca;r=x;u=E;B.point=f}function h(){e(Y,xa,J,ca,x,E,z,p,m,C,r,u,l,b);B.lineEnd=k;k()}var m,z,p,C,r,u,J,Y,xa,ca,x,E,B={point:c,lineStart:d,lineEnd:k,polygonStart:function(){b.polygonStart();B.lineStart=g},polygonEnd:function(){b.polygonEnd();B.lineStart=d}};return B}function e(b,c,d,l,y,g,n,h,m,z,p,C,r,u){var J=n-b,Y=h-c,xa=J*J+Y*Y;if(xa>4*f&&r--){var ca=l+z,
x=y+p,E=g+C,D=Math.sqrt(ca*ca+x*x+E*E),M=Math.asin(E/=D),R=H(H(E)-1)<B||H(d-m)<B?(d+m)/2:Math.atan2(x,ca),w=a(R,M),M=w[0],w=w[1],Ge=M-b,K=w-c,G=Y*Ge-J*K;(G*G/xa>f||.3<H((J*Ge+Y*K)/xa-.5)||k>l*z+y*p+g*C)&&(e(b,c,d,l,y,g,M,w,R,ca/=D,x/=D,E,r,u),u.point(M,w),e(M,w,R,ca,x,E,n,h,m,z,p,C,r,u))}}var f=.5,k=Math.cos(30*G),l=16;return b.precision=function(a){return arguments.length?(l=0<(f=a*a)&&16,b):Math.sqrt(f)},b}function gh(a){var b=Oe(function(b,d){return a([b*Z,d*Z])});return function(a){return Qe(b(a))}}
function Re(a){this.stream=a}function Pe(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Sa(a){return cd(function(){return a})()}function cd(a){function b(a){return a=l(a[0]*G,a[1]*G),[a[0]*y+v,q-a[1]*y]}function c(a){return a=l.invert((a[0]-v)/y,(q-a[1])/y),a&&[a[0]*Z,a[1]*Z]}function d(){l=Ce(k=dd(z,A,C),f);var a=f(m,p);return v=g-a[0]*y,
q=h+a[1]*y,e()}function e(){return t&&(t.valid=!1,t=null),b}var f,k,l,v,q,t,F=Oe(function(a,b){return a=f(a,b),[a[0]*y+v,q-a[1]*y]}),y=150,g=480,h=250,m=0,p=0,z=0,A=0,C=0,r=Se,Xa=u,J=null,Y=null;return b.stream=function(a){return t&&(t.valid=!1),t=Qe(r(k,F(Xa(a)))),t.valid=!0,t},b.clipAngle=function(a){return arguments.length?(r=null==a?(J=a,Se):bh((J=+a)*G),e()):J},b.clipExtent=function(a){return arguments.length?(Y=a,Xa=a?Je(a[0][0],a[0][1],a[1][0],a[1][1]):u,e()):Y},b.scale=function(a){return arguments.length?
(y=+a,d()):y},b.translate=function(a){return arguments.length?(g=+a[0],h=+a[1],d()):[g,h]},b.center=function(a){return arguments.length?(m=a[0]%360*G,p=a[1]%360*G,d()):[m*Z,p*Z]},b.rotate=function(a){return arguments.length?(z=a[0]%360*G,A=a[1]%360*G,C=2<a.length?a[2]%360*G:0,d()):[z*Z,A*Z,C*Z]},n.rebind(b,F,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function Qe(a){return Pe(a,function(b,c){a.point(b*G,c*G)})}function tb(a,b){return[a,b]}function Te(a,b){return[a>
L?a-oa:-L>a?a+oa:a,b]}function dd(a,b,c){return a?b||c?Ce(Ue(a),Ve(b,c)):Ue(a):b||c?Ve(b,c):Te}function We(a){return function(b,c){return b+=a,[b>L?b-oa:-L>b?b+oa:b,c]}}function Ue(a){var b=We(a);return b.invert=We(-a),b}function Ve(a,b){function c(a,b){var c=Math.cos(b),t=Math.cos(a)*c,c=Math.sin(a)*c,F=Math.sin(b),y=F*d+t*e;return[Math.atan2(c*f-y*k,t*d-F*e),Oa(y*f+c*k)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),k=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),t=Math.cos(a)*c,c=
Math.sin(a)*c,F=Math.sin(b),y=F*f-c*k;return[Math.atan2(c*f+F*k,t*d+y*e),Oa(y*d-t*e)]},c}function ad(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,k,l){var v=k*b;null!=e?(e=Xe(c,e),f=Xe(c,f),(0<k?f>e:e>f)&&(e+=k*oa)):(e=a+k*oa,f=a-.5*v);for(var q;0<k?e>f:f>e;e-=v)l.point((q=Ub([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],q[1])}}function Xe(a,b){var c=$a(b);c[0]-=a;Tb(c);var d=ee(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-B)%(2*Math.PI)}function Ye(a,b,c){var d=n.range(a,b-B,c).concat(b);return function(a){return d.map(function(b){return[a,
b]})}}function Ze(a,b,c){var d=n.range(a,b-B,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function ed(a){return a.source}function fd(a){return a.target}function hh(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),k=Math.cos(d),l=Math.sin(d),v=e*Math.cos(a),q=e*Math.sin(a),t=k*Math.cos(c),F=k*Math.sin(c),y=2*Math.asin(Math.sqrt(ge(d-b)+e*k*ge(c-a))),g=1/Math.sin(y);c=y?function(a){var b=Math.sin(a*=y)*g,c=Math.sin(y-a)*g;a=c*v+b*t;var d=c*q+b*F,b=c*f+b*l;return[Math.atan2(d,a)*Z,
Math.atan2(b,Math.sqrt(a*a+d*d))*Z]}:function(){return[a*Z,b*Z]};return c.distance=y,c}function ub(a,b){function c(b,c){var f=Math.cos(b),k=Math.cos(c),f=a(f*k);return[f*k*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var f=Math.sqrt(a*a+c*c),k=b(f),l=Math.sin(k),k=Math.cos(k);return[Math.atan2(a*l,f*k),Math.asin(f&&c*l/f)]},c}function $e(a,b){function c(a,b){0<f?-aa+B>b&&(b=-aa+B):b>aa-B&&(b=aa-B);var c=f/Math.pow(Math.tan(L/4+b/2),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),
e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(L/4+b/2)/Math.tan(L/4+a/2)),f=d*Math.pow(Math.tan(L/4+a/2),e)/e;return e?(c.invert=function(a,b){var c=f-b,d=(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-aa]},c):Zb}function af(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return H(e)<B?tb:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/
e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]},c)}function Zb(a,b){return[a,Math.log(Math.tan(L/4+b/2))]}function bf(a){var b,c=Sa(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var l=f.apply(c,arguments);if(l===c){if(b=null==a){var v=L*d(),q=e();f([[q[0]-v,q[1]-v],[q[0]+v,q[1]+v]])}}else b&&(l=null);return l},
c.clipExtent(null)}function gd(a,b){return[Math.log(Math.tan(L/4+b/2)),-a]}function jb(a){return a[0]}function vb(a){return a[1]}function cf(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;1<d&&0>=Mc(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function ih(a,b){return a[0]-b[0]||a[1]-b[1]}function hd(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function id(a,b,c,d){var e=a[0],f=c[0],k=b[0]-e,l=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(l*(a-c)-d*(e-f))/(d*k-l*b);
return[e+f*k,a+f*b]}function df(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function jh(){$b(this);this.edge=this.site=this.circle=null}function ef(a){var b=ff.pop()||new jh;return b.site=a,b}function jd(a){kb(a);lb.remove(a);ff.push(a);$b(a)}function gf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var k=a.P;if(!k)return-1/0;var c=k.site,k=c.x,c=c.y,l=c-b;if(!l)return k;var v=k-d,q=1/f-1/l,t=v/l;return q?(-t+Math.sqrt(t*t-2*q*(v*v/(-2*l)-c+l/2+e-f/2)))/q+d:(d+k)/2}function hf(a){this.site=
a;this.edges=[]}function jf(a,b){return b.angle-a.angle}function kh(){$b(this);this.x=this.y=this.arc=this.site=this.cy=null}function mb(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,k=d.x-c,l=d.y-f,d=e.x-c,e=e.y-f,v=2*(k*e-l*d);if(!(v>=-kd)){var q=k*k+l*l,t=d*d+e*e,l=(e*q-l*t)/v,k=(k*t-d*q)/v,e=k+f,f=kf.pop()||new kh;f.arc=a;f.site=b;f.x=l+c;f.y=e+Math.sqrt(l*l+k*k);f.cy=e;a.circle=f;a=null;for(b=wb._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x){if(!b.L){a=b.P;break}b=
b.L}else{if(!b.R){a=b;break}b=b.R}wb.insert(a,f);a||(ld=f)}}}}function kb(a){var b=a.circle;b&&(b.P||(ld=b.N),wb.remove(b),kf.push(b),$b(b),a.circle=null)}function lh(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,c=b[0][0],k=b[1][0],l=b[0][1],v=b[1][1],q=a.l,t=a.r,g=q.x,q=q.y,y=t.x,t=t.y;e=(g+y)/2;if(t===q){if(c>e||e>=k)return;if(g>y){if(f){if(f.y>=v)return}else f={x:e,y:l};c={x:e,y:v}}else{if(f){if(f.y<l)return}else f={x:e,y:v};c={x:e,y:l}}}else if(d=(g-y)/(t-q),e=(q+t)/2-d*e,-1>d||1<d)if(g>y){if(f){if(f.y>=
v)return}else f={x:(l-e)/d,y:l};c={x:(v-e)/d,y:v}}else{if(f){if(f.y<l)return}else f={x:(v-e)/d,y:v};c={x:(l-e)/d,y:l}}else if(t>q){if(f){if(f.x>=k)return}else f={x:c,y:d*c+e};c={x:k,y:d*k+e}}else{if(f){if(f.x<c)return}else f={x:k,y:d*k+e};c={x:c,y:d*c+e}}return a.a=f,a.b=c,!0}function lf(a,b){this.l=a;this.r=b;this.a=this.b=null}function xb(a,b,c,d){var e=new lf(a,b);return nb.push(e),c&&ac(e,a,b,c),d&&ac(e,b,a,d),bb[a.i].edges.push(new bc(e,a,b)),bb[b.i].edges.push(new bc(e,b,a)),e}function mh(a,
b,c){a=new lf(a,null);return a.a=b,a.b=c,nb.push(a),a}function ac(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function bc(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function md(){this._=null}function $b(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function yb(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function zb(a,b){var c=b.L,d=b.U;d?d.L===
b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function mf(a){for(;a.L;)a=a.L;return a}function nd(a,b){var c,d,e,f=a.sort(nh).pop();nb=[];bb=Array(a.length);lb=new md;for(wb=new md;;)if(e=ld,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x)){if(f.x!==c||f.y!==d){bb[f.i]=new hf(f);c=f;for(var k=d=void 0,l=void 0,v=void 0,q=c.x,t=c.y,g=lb._;g;)if(l=gf(g,t)-q,l>B)g=g.L;else{var y;var n=g;y=t;var h=n.N;h?y=gf(h,y):(n=n.site,y=n.y===y?n.x:1/0);if(v=q-y,!(v>B)){l>-B?(d=g.P,k=g):v>-B?(d=g,k=g.N):d=k=g;
break}if(!g.R){d=g;break}g=g.R}l=ef(c);if(lb.insert(d,l),d||k)if(d===k)kb(d),k=ef(d.site),lb.insert(l,k),l.edge=k.edge=xb(d.site,l.site),mb(d),mb(k);else if(k){kb(d);kb(k);v=d.site;t=v.x;g=v.y;y=c.x-t;var n=c.y-g,q=k.site,h=q.x-t,m=q.y-g,p=2*(y*m-n*h),z=y*y+n*n,A=h*h+m*m,t={x:(m*z-n*A)/p+t,y:(y*A-h*z)/p+g};ac(k.edge,v,q,t);l.edge=xb(v,c,null,t);k.edge=xb(c,q,null,t);mb(d);mb(k)}else l.edge=xb(d.site,l.site);c=f.x;d=f.y}f=a.pop()}else{if(!e)break;q=e.arc;k=q.circle;v=k.x;t=k.cy;k={x:v,y:t};y=q.P;g=
q.N;l=[q];jd(q);for(q=y;q.circle&&H(v-q.circle.x)<B&&H(t-q.circle.cy)<B;)y=q.P,l.unshift(q),jd(q),q=y;l.unshift(q);kb(q);for(y=g;y.circle&&H(v-y.circle.x)<B&&H(t-y.circle.cy)<B;)g=y.N,l.push(y),jd(y),y=g;l.push(y);kb(y);v=void 0;t=l.length;for(v=1;t>v;++v)y=l[v],q=l[v-1],ac(y.edge,q.site,y.site,k);q=l[0];y=l[t-1];y.edge=xb(q.site,y.site,null,k);mb(q);mb(y)}if(b){f=nb;c=Ie(b[0][0],b[0][1],b[1][0],b[1][1]);for(d=f.length;d--;)e=f[d],(!lh(e,b)||!c(e)||H(e.a.x-e.b.x)<B&&H(e.a.y-e.b.y)<B)&&(e.a=e.b=null,
f.splice(d,1));var C,q=b[0][0],t=b[1][0],g=b[0][1];y=b[1][1];n=bb;for(h=n.length;h--;)if(C=n[h],C&&C.prepare())for(k=C.edges,l=k.length,d=0;l>d;)v=k[d].end(),f=v.x,c=v.y,m=k[++d%l].start(),e=m.x,m=m.y,(H(f-e)>B||H(c-m)>B)&&(k.splice(d,0,new bc(mh(C.site,v,H(f-q)<B&&y-c>B?{x:q,y:H(e-q)<B?m:y}:H(c-y)<B&&t-f>B?{x:H(m-y)<B?e:t,y:y}:H(f-t)<B&&c-g>B?{x:t,y:H(e-t)<B?m:g}:H(c-g)<B&&f-q>B?{x:H(m-g)<B?e:q,y:g}:null),C.site,null)),++l)}C={cells:bb,edges:nb};return lb=wb=nb=bb=null,C}function nh(a,b){return b.y-
a.y||b.x-a.x}function oh(a){return a.x}function ph(a){return a.y}function nf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ab(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var k=.5*(c+e),l=.5*(d+f);b=b.nodes;b[0]&&Ab(a,b[0],c,d,k,l);b[1]&&Ab(a,b[1],k,d,e,l);b[2]&&Ab(a,b[2],c,l,k,f);b[3]&&Ab(a,b[3],k,l,e,f)}}function qh(a,b,c,d,e,f,k){var l,v=1/0;return function t(a,g,n,h,m){if(!(g>f||n>k||d>h||e>m)){if(p=a.point){var p,z=b-a.x,A=c-a.y,z=z*z+A*A;v>z&&(z=Math.sqrt(v=z),d=b-z,e=c-z,f=b+z,k=c+z,l=p)}p=
a.nodes;for(var z=.5*(g+h),A=.5*(n+m),C=(c>=A)<<1|b>=z,r=C+4;r>C;++C)if(a=p[3&C])switch(3&C){case 0:t(a,g,n,z,A);break;case 1:t(a,z,n,h,A);break;case 2:t(a,g,A,z,m);break;case 3:t(a,z,A,h,m)}}}(a,d,e,f,k),l}function od(a,b){a=n.rgb(a);b=n.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,k=b.g-d,l=b.b-e;return function(a){return"#"+fb(Math.round(c+f*a))+fb(Math.round(d+k*a))+fb(Math.round(e+l*a))}}function of(a,b){var c,d={},e={};for(c in a)c in b?d[c]=cb(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=
d[c](a);return e}}function Ka(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function pf(a,b){var c,d,e,f=pd.lastIndex=qd.lastIndex=0,k=-1,l=[],v=[];a+="";for(b+="";(c=pd.exec(a))&&(d=qd.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),l[k]?l[k]+=e:l[++k]=e),(c=c[0])===(d=d[0])?l[k]?l[k]+=d:l[++k]=d:(l[++k]=null,v.push({i:k,x:Ka(c,d)})),f=qd.lastIndex;return f<b.length&&(e=b.slice(f),l[k]?l[k]+=e:l[++k]=e),2>l.length?v[0]?(b=v[0].x,function(a){return b(a)+""}):function(){return b}:(b=v.length,function(a){for(var c,
d=0;b>d;++d)l[(c=v[d]).i]=c.x(a);return l.join("")})}function cb(a,b){for(var c,d=n.interpolators.length;0<=--d&&!(c=n.interpolators[d](a,b)););return c}function cc(a,b){var c,d=[],e=[],f=a.length,k=b.length,l=Math.min(a.length,b.length);for(c=0;l>c;++c)d.push(cb(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;k>c;++c)e[c]=b[c];return function(a){for(c=0;l>c;++c)e[c]=d[c](a);return e}}function rh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function qf(a){return function(b){return 1-a(1-b)}}function rf(a){return function(b){return.5*
(.5>b?a(2*b):2-a(2-2*b))}}function sh(a){return a*a}function th(a){return a*a*a}function uh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function vh(a){return 1-Math.cos(a*aa)}function wh(a){return Math.pow(2,10*(a-1))}function xh(a){return 1-Math.sqrt(1-a*a)}function yh(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function sf(a,b){return b-=a,function(c){return Math.round(a+
b*c)}}function tf(a){var b=[a.a,a.b],c=[a.c,a.d],d=uf(b),e=b[0]*c[0]+b[1]*c[1],f;f=-e;f=(c[0]+=f*b[0],c[1]+=f*b[1],c);f=uf(f)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Z;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*Z:0}function uf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]/=b,a[1]/=b),b}function vf(a,b){var c,d=[],e=[],f=n.transform(a),k=n.transform(b),l=f.translate,v=k.translate,q=f.rotate,
t=k.rotate,g=f.skew,y=k.skew,f=f.scale,k=k.scale;return l[0]!=v[0]||l[1]!=v[1]?(d.push("translate(",null,",",null,")"),e.push({i:1,x:Ka(l[0],v[0])},{i:3,x:Ka(l[1],v[1])})):d.push(v[0]||v[1]?"translate("+v+")":""),q!=t?(180<q-t?t+=360:180<t-q&&(q+=360),e.push({i:d.push(d.pop()+"rotate(",null,")")-2,x:Ka(q,t)})):t&&d.push(d.pop()+"rotate("+t+")"),g!=y?e.push({i:d.push(d.pop()+"skewX(",null,")")-2,x:Ka(g,y)}):y&&d.push(d.pop()+"skewX("+y+")"),f[0]!=k[0]||f[1]!=k[1]?(c=d.push(d.pop()+"scale(",null,",",
null,")"),e.push({i:c-4,x:Ka(f[0],k[0])},{i:c-2,x:Ka(f[1],k[1])})):(1!=k[0]||1!=k[1])&&d.push(d.pop()+"scale("+k+")"),c=e.length,function(a){for(var b,f=-1;++f<c;)d[(b=e[f]).i]=b.x(a);return d.join("")}}function zh(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Ah(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Bh(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=wf(b);for(var d=wf(d),e=c.pop(),f=d.pop(),k=null;e===f;)k=e,e=
c.pop(),f=d.pop();c=k}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function wf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Ch(a){a.fixed|=2}function Dh(a){a.fixed&=-7}function Eh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function Fh(a){a.fixed&=-5}function xf(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,k=a.nodes,l=k.length,v=-1;++v<l;)f=k[v],null!=f&&(xf(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*
f.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Bb(a,b){return n.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=Gh,a}function Cb(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function Da(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,
f,k=-1;++k<e;)c.push(f[k]);for(;null!=(a=d.pop());)b(a)}function Hh(a){return a.children}function Ih(a){return a.value}function Jh(a,b){return b.value-a.value}function Gh(a){return n.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c}})}))}function Kh(a){return a.x}function Lh(a){return a.y}function Mh(a,b,c){a.y0=b;a.y=c}function rd(a){return n.range(a.length)}function sd(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Nh(a){for(var b,c=
1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function Oh(a){return a.reduce(Ph,0)}function Ph(a,b){return a+b[1]}function Qh(a,b){return yf(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function yf(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Rh(a){return[n.min(a),n.max(a)]}function Sh(a,b){return a.value-b.value}function td(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function zf(a,b){a._pack_next=b;
b._pack_prev=a}function Af(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Bf(a){function b(a){t=Math.min(a.x-a.r,t);g=Math.max(a.x+a.r,g);y=Math.min(a.y-a.r,y);n=Math.max(a.y+a.r,n)}if((c=a.children)&&(q=c.length)){var c,d,e,f,k,l,v,q,t=1/0,g=-1/0,y=1/0,n=-1/0;if(c.forEach(Th),d=c[0],d.x=-d.r,d.y=0,b(d),1<q&&(e=c[1],e.x=e.r,e.y=0,b(e),2<q))for(f=c[2],Cf(d,e,f),b(f),td(d,f),d._pack_prev=f,td(f,e),e=d._pack_next,k=3;q>k;k++){Cf(d,e,f=c[k]);var h=0,m=1,p=1;for(l=e._pack_next;l!==
e;l=l._pack_next,m++)if(Af(l,f)){h=1;break}if(1==h)for(v=d._pack_prev;v!==l._pack_prev&&!Af(v,f);v=v._pack_prev,p++);h?(p>m||m==p&&e.r<d.r?zf(d,e=l):zf(d=v,e),k--):(td(d,f),e=f,b(f))}d=(t+g)/2;e=(y+n)/2;for(k=l=0;q>k;k++)f=c[k],f.x-=d,f.y-=e,l=Math.max(l,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=l;c.forEach(Uh)}}function Th(a){a._pack_next=a._pack_prev=a}function Uh(a){delete a._pack_next;delete a._pack_prev}function Df(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e){a=-1;for(var f=e.length;++a<
f;)Df(e[a],b,c,d)}}function Cf(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var k=b.r+c.r,l=e*e+f*f,k=k*k,d=d*d;b=.5+(d-k)/(2*l);k=Math.sqrt(Math.max(0,2*k*(d+l)-(d-=l)*d-k*k))/(2*l);c.x=a.x+b*e+k*f;c.y=a.y+b*f-k*e}else c.x=a.x+d,c.y=a.y}function Ef(a,b){return a.parent==b.parent?1:2}function ud(a){var b=a.children;return b.length?b[0]:a.t}function vd(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Vh(a){return 1+n.max(a,function(a){return a.y})}function Wh(a){return a.reduce(function(a,
c){return a+c.x},0)/a.length}function Ff(a){var b=a.children;return b&&b.length?Ff(b[0]):a}function Gf(a){var b,c=a.children;return c&&(b=c.length)?Gf(c[b-1]):a}function wd(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Hf(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function ob(a){var b=a[0];a=a[a.length-1];return a>b?[b,a]:[a,b]}function dc(a){return a.rangeExtent?a.rangeExtent():ob(a.range())}function Xh(a,b,c,
d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function ec(a,b){var c,d=0,e=a.length-1,f=a[d],k=a[e];return f>k&&(c=d,d=e,e=c,c=f,f=k,k=c),a[d]=b.floor(f),a[e]=b.ceil(k),a}function If(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Yh}function Zh(a,b,c,d){var e=[],f=[],k=0,l=Math.min(a.length,b.length)-1;for(a[l]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++k<=l;)e.push(c(a[k-1],a[k])),f.push(d(b[k-1],b[k]));return function(b){var c=
n.bisect(a,b,1,l)-1;return f[c](e[c](b))}}function Jf(a,b,c,d){function e(){var e=2<Math.min(a.length,b.length)?Zh:Xh,q=d?Ah:zh;return k=e(a,b,q,c),l=e(b,a,q,cb),f}function f(a){return k(a)}var k,l;return f.invert=function(a){return l(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(sf)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?
(c=a,e()):c},f.ticks=function(b){return n.range.apply(n,Ta(a,b))},f.tickFormat=function(b,c){return xd(a,b,c)},f.nice=function(b){return ec(a,If(Ta(a,b)[2])),e()},f.copy=function(){return Jf(a,b,c,d)},e()}function yd(a,b){return n.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ta(a,b){null==b&&(b=10);var c=ob(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;return.15>=d?e*=10:.35>=d?e*=5:.75>=d&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*
e,c[2]=e,c}function xd(a,b,c){a=Ta(a,b);if(c){b=se.exec(c);if(b.shift(),"s"===b[8]){var d=n.formatPrefix(Math.max(H(a[0]),H(a[1])));return b[7]||(b[7]="."+fc(d.scale(a[2]))),b[8]="f",c=n.format(b.join("")),function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+$h(b[8],a));c=b.join("")}else c=",."+fc(a[2])+"f";return n.format(c)}function fc(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function $h(a,b){var c=fc(b[2]);return a in ai?Math.abs(c-fc(Math.max(H(b[0]),H(b[1]))))+ +("e"!==a):c-2*("%"===
a)}function Kf(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function k(b){return a(e(b))}return k.invert=function(b){return f(a.invert(b))},k.domain=function(b){return arguments.length?(c=0<=b[0],a.domain((d=b.map(Number)).map(e)),k):d},k.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),k):b},k.nice=function(){var b=ec(d.map(e),c?Math:bi);return a.domain(b),d=b.map(f),k},k.ticks=function(){var a=
ob(d),k=[],q=a[0],a=a[1],t=Math.floor(e(q)),g=Math.ceil(e(a)),y=b%1?2:b;if(isFinite(g-t)){if(c){for(;g>t;t++)for(var n=1;y>n;n++)k.push(f(t)*n);k.push(f(t))}else for(k.push(f(t));t++<g;)for(n=y-1;0<n;n--)k.push(f(t)*n);for(t=0;k[t]<q;t++);for(g=k.length;k[g-1]>a;g--);k=k.slice(t,g)}return k},k.tickFormat=function(a,b){if(!arguments.length)return Lf;2>arguments.length?b=Lf:"function"!=typeof b&&(b=n.format(b));var d,t=Math.max(.1,a/k.ticks().length),g=c?(d=1E-12,Math.ceil):(d=-1E-12,Math.floor);return function(a){return a/
f(g(e(a)+d))<=t?b(a):""}},k.copy=function(){return Kf(a.copy(),b,c,d)},yd(k,a)}function Mf(a,b,c){function d(b){return a(e(b))}var e=gc(b),f=gc(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return n.range.apply(n,Ta(c,a))},d.tickFormat=function(a,b){return xd(c,a,b)},d.nice=function(a){return d.domain(ec(c,If(Ta(c,a)[2])))},d.exponent=function(k){return arguments.length?(e=gc(b=k),
f=gc(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return Mf(a.copy(),b,c)},yd(d,a)}function gc(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Nf(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):0/0))-1)%f.length]}function d(b,c){return n.range(a.length).map(function(a){return b+c*a})}var e,f,k;return c.domain=function(d){if(!arguments.length)return a;a=[];e=new Q;for(var f,k=-1,t=d.length;++k<t;)e.has(f=d[k])||e.set(f,a.push(f));return c[b.t].apply(c,
b.a)},c.range=function(a){return arguments.length?(f=a,k=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,v){2>arguments.length&&(v=0);var q=e[0],t=e[1],t=2>a.length?(q=(q+t)/2,0):(t-q)/(a.length-1+v);return f=d(q+t*v/2,t),k=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,v){2>arguments.length&&(v=0);var q=e[0],t=e[1],g=2>a.length?(q=t=Math.round((q+t)/2),0):(t-q)/(a.length-1+v)|0;return f=d(q+Math.round(g*v/2+(t-q-(a.length-1+v)*g)/2),g),k=0,b={t:"rangeRoundPoints",a:arguments},
c},c.rangeBands=function(e,v,q){2>arguments.length&&(v=0);3>arguments.length&&(q=v);var t=e[1]<e[0],g=e[t-0],y=(e[1-t]-g)/(a.length-v+2*q);return f=d(g+y*q,y),t&&f.reverse(),k=y*(1-v),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,v,q){2>arguments.length&&(v=0);3>arguments.length&&(q=v);var t=e[1]<e[0],g=e[t-0],y=e[1-t],n=Math.floor((y-g)/(a.length-v+2*q));return f=d(g+Math.round((y-g-(a.length-v)*n)/2),n),t&&f.reverse(),k=Math.round(n*(1-v)),b={t:"rangeRoundBands",a:arguments},c},
c.rangeBand=function(){return k},c.rangeExtent=function(){return ob(b.a[0])},c.copy=function(){return Nf(a,b)},c.domain(a)}function Of(a,b){function c(){var c=0,k=b.length;for(e=[];++c<k;)e[c-1]=n.quantile(a,c/k);return d}function d(a){return isNaN(a=+a)?void 0:b[n.bisect(e,a)]}var e;return d.domain=function(b){return arguments.length?(a=b.map(X).filter(w).sort(I),c()):a},d.range=function(a){return arguments.length?(b=a,c()):b},d.quantiles=function(){return e},d.invertExtent=function(c){return c=
b.indexOf(c),0>c?[0/0,0/0]:[0<c?e[c-1]:a[0],c<e.length?e[c]:a[a.length-1]]},d.copy=function(){return Of(a,b)},c()}function Pf(a,b,c){function d(b){return c[Math.max(0,Math.min(k,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),k=c.length-1,d}var f,k;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?0/0:b/f+a,[b,b+1/f]},d.copy=function(){return Pf(a,
b,c)},e()}function Qf(a,b){function c(c){return c>=c?b[n.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return Qf(a,b)},c}function Rf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return n.range.apply(n,Ta(a,b))},b.tickFormat=function(b,d){return xd(a,
b,d)},b.copy=function(){return Rf(a)},b}function ci(){return 0}function di(a){return a.innerRadius}function ei(a){return a.outerRadius}function Sf(a){return a.startAngle}function Tf(a){return a.endAngle}function fi(a){return a&&a.padAngle}function hc(a,b,c,d){return 0<(a-c)*b-(b-d)*a?0:1}function ic(a,b,c,d,e){var f=a[0]-b[0],k=a[1]-b[1];e=(e?d:-d)/Math.sqrt(f*f+k*k);var k=e*k,f=-e*f,l=a[0]+k,v=a[1]+f,q=b[0]+k,t=b[1]+f;a=(l+q)/2;b=(v+t)/2;e=q-l;var g=t-v,y=e*e+g*g;d=c-d;var t=l*t-q*v,n=(0>g?-1:1)*
Math.sqrt(d*d*y-t*t),l=(t*g-e*n)/y,v=(-t*e-g*n)/y,q=(t*g+e*n)/y;e=(-t*e+g*n)/y;g=l-a;y=v-b;a=q-a;b=e-b;return g*g+y*y>a*a+b*b&&(l=q,v=e),[[l-k,v-f],[l*c/d,v*c/d]]}function Uf(a){function b(b){function k(){g.push("M",f(a(y),l))}for(var t,g=[],y=[],n=-1,h=b.length,m=W(c),p=W(d);++n<h;)e.call(this,t=b[n],n)?y.push([+m.call(this,t,n),+p.call(this,t,n)]):y.length&&(k(),y=[]);return y.length&&k(),g.length?g.join(""):null}var c=jb,d=vb,e=ib,f=pa,k=f.key,l=.7;return b.x=function(a){return arguments.length?
(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(k="function"==typeof a?f=a:(f=zd.get(a)||pa).key,b):k},b.tension=function(a){return arguments.length?(l=a,b):l},b}function pa(a){return a.join("L")}function Ad(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Bd(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<
c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function jc(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return pa(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],k=b[0],l=k,v=1;if(c&&(d+="Q"+(f[0]-2*k[0]/3)+","+(f[1]-2*k[1]/3)+","+f[0]+","+f[1],e=a[1],v=2),1<b.length)for(l=b[1],f=a[v],v++,d+="C"+(e[0]+k[0])+","+(e[1]+k[1])+","+(f[0]-l[0])+","+(f[1]-l[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,v++)f=a[v],l=b[e],d+="S"+(f[0]-l[0])+","+(f[1]-l[1])+","+f[0]+","+f[1];c&&(c=a[v],d+=
"Q"+(f[0]+2*l[0]/3)+","+(f[1]+2*l[1]/3)+","+c[0]+","+c[1]);return d}function Cd(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],k=a[1],l=1,v=a.length;++l<v;)c=f,f=k,k=a[l],d.push([e*(k[0]-c[0]),e*(k[1]-c[1])]);return d}function Vf(a){if(3>a.length)return pa(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],k=[e,e,e,(d=a[1])[0]],l=[f,f,f,d[1]],e=[e,",",f,"L",ua(Ua,k),",",ua(Ua,l)];for(a.push(a[c-1]);++b<=c;)d=a[b],k.shift(),k.push(d[0]),l.shift(),l.push(d[1]),Dd(e,k,l);return a.pop(),e.push("L",d),e.join("")}function ua(a,
b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Dd(a,b,c){a.push("C",ua(Wf,b),",",ua(Wf,c),",",ua(Xf,b),",",ua(Xf,c),",",ua(Ua,b),",",ua(Ua,c))}function Ed(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Yf(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-aa,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Zf(a){function b(b){function v(){p.push("M",l(a(C),g),t,q(a(A.reverse()),g),"Z")}for(var n,h,m,p=[],A=[],C=[],r=-1,u=b.length,J=W(c),Y=W(e),x=c===d?function(){return h}:
W(d),ca=e===f?function(){return m}:W(f);++r<u;)k.call(this,n=b[r],r)?(A.push([h=+J.call(this,n,r),m=+Y.call(this,n,r)]),C.push([+x.call(this,n,r),+ca.call(this,n,r)])):A.length&&(v(),A=[],C=[]);return A.length&&v(),p.length?p.join(""):null}var c=jb,d=jb,e=0,f=vb,k=ib,l=pa,v=l.key,q=l,t="L",g=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=
f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(k=a,b):k},b.interpolate=function(a){return arguments.length?(v="function"==typeof a?l=a:(l=zd.get(a)||pa).key,q=l.reverse||l,t=l.closed?"M":"L",b):v},b.tension=function(a){return arguments.length?(g=a,b):g},b}function gi(a){return a.radius}function $f(a){return[a.x,a.y]}function hi(a){return function(){var b=a.apply(this,arguments),c=b[0],
b=b[1]-aa;return[c*Math.cos(b),c*Math.sin(b)]}}function ii(){return 64}function ji(){return"circle"}function ag(a){a=Math.sqrt(a/L);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function bg(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index))}}function Db(a,b,c){return Eb(a,ea),a.namespace=b,a.id=c,a}function Fd(a,b,c,d){var e=a.id,f=a.namespace;return Ea(a,
"function"==typeof c?function(a,l,v){a[f][e].tween.set(b,d(c.call(a,a.__data__,l,v)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function ki(a){return null==a&&(a=""),function(){this.textContent=a}}function Gd(a){return null==a?"__transition__":"__transition_"+a+"__"}function kc(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),k=f[d];if(!k){var l=e.time,k=f[d]={tween:new Q,time:l,delay:e.delay,duration:e.duration,ease:e.ease,index:b};e=null;++f.count;n.timer(function(e){function q(c){if(f.active>
d)return g();var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));f.active=d;k.event&&k.event.start.call(a,a.__data__,b);k.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&r.push(d)});h=k.ease;y=k.duration;n.timer(function(){return p.c=t(c||1)?ib:t,1},0,l)}function t(c){if(f.active!==d)return 1;c/=y;for(var e=h(c),l=r.length;0<l;)r[--l].call(a,e);return 1<=c?(k.event&&k.event.end.call(a,a.__data__,b),g()):void 0}function g(){return--f.count?
delete f[d]:delete a[c],1}var y,h,m=k.delay,p=Ga,r=[];return p.t=m+l,e>=m?q(e-m):void(p.c=q)},0,l)}}function li(a,b,c){a.attr("transform",function(a){var e=b(a);return"translate("+(isFinite(e)?e:c(a))+",0)"})}function mi(a,b,c){a.attr("transform",function(a){var e=b(a);return"translate(0,"+(isFinite(e)?e:c(a))+")"})}function Hd(a){return a.toISOString()}function Id(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,e=n.bisect(lc,d);return e==lc.length?[b.year,Ta(a.map(function(a){return a/
31536E6}),c)[2]]:e?b[d/lc[e-1]<lc[e]/d?e-1:e]:[ni,Ta(a,c)[2]]}return d.invert=function(b){return db(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(db)},d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,db(+d+1),b).length}var v=d.domain(),q=ob(v),q=null==a?e(q,10):"number"==typeof a&&e(q,a);return q&&(a=q[0],b=q[1]),d.domain(ec(v,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=db(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=db(+b+1);
return b}}:a))},d.ticks=function(a,b){var c=ob(d.domain()),v=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return v&&(a=v[0],b=v[1]),a.range(c[0],db(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return Id(a.copy(),b,c)},yd(d,a)}function db(a){return new Date(a)}function oi(a){return JSON.parse(a.responseText)}function pi(a){var b=ia.createRange();return b.selectNode(ia.body),b.createContextualFragment(a.responseText)}var n={version:"3.5.5"},cg=[].slice,
Na=function(a){return cg.call(a)},ia=this.document;if(ia)try{Na(ia.documentElement.childNodes)[0].nodeType}catch(Ni){Na=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),ia)try{ia.createElement("DIV").style.setProperty("opacity",0,"")}catch(Oi){var mc=this.Element.prototype,qi=mc.setAttribute,ri=mc.setAttributeNS,dg=this.CSSStyleDeclaration.prototype,si=dg.setProperty;mc.setAttribute=function(a,b){qi.call(this,a,b+"")};mc.setAttributeNS=
function(a,b,c){ri.call(this,a,b,c+"")};dg.setProperty=function(a,b,c){si.call(this,a,b+"",c)}}n.ascending=I;n.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:0/0};n.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c};n.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<
f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c};n.extent=function(a,b){var c,d,e,f=-1,k=a.length;if(1===arguments.length){for(;++f<k;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<k;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<k;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<k;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=
d))}return[c,e]};n.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)w(c=+a[f])&&(d+=c);else for(;++f<e;)w(c=+b.call(a,a[f],f))&&(d+=c);return d};n.mean=function(a,b){var c,d=0,e=a.length,f=-1,k=e;if(1===arguments.length)for(;++f<e;)w(c=X(a[f]))?d+=c:--k;else for(;++f<e;)w(c=X(b.call(a,a[f],f)))?d+=c:--k;return k?d/k:void 0};n.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};n.median=function(a,b){var c,d=[],e=a.length,
f=-1;if(1===arguments.length)for(;++f<e;)w(c=X(a[f]))&&d.push(c);else for(;++f<e;)w(c=X(b.call(a,a[f],f)))&&d.push(c);return d.length?n.quantile(d.sort(I),.5):void 0};n.variance=function(a,b){var c,d,e=a.length,f=0,k=0,l=-1,v=0;if(1===arguments.length)for(;++l<e;)w(c=X(a[l]))&&(d=c-f,f+=d/++v,k+=d*(c-f));else for(;++l<e;)w(c=X(b.call(a,a[l],l)))&&(d=c-f,f+=d/++v,k+=d*(c-f));return 1<v?k/(v-1):void 0};n.deviation=function(){var a=n.variance.apply(this,arguments);return a?Math.sqrt(a):a};var eg=S(I);
n.bisectLeft=eg.left;n.bisect=n.bisectRight=eg.right;n.bisector=function(a){return S(1===a.length?function(b,c){return I(a(b),c)}:a)};n.shuffle=function(a,b,c){3>(f=arguments.length)&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a};n.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};n.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);c>b;)e[b]=[d,d=a[++b]];return e};n.zip=function(){if(!(d=
arguments.length))return[];for(var a=-1,b=n.min(arguments,da),c=Array(b);++a<b;)for(var d,e=-1,f=c[a]=Array(d);++e<d;)f[e]=arguments[e][a];return c};n.transpose=function(a){return n.zip.apply(n,a)};n.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};n.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};n.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};n.merge=function(a){var b,c,d,e=a.length;b=-1;for(var f=0;++b<e;)f+=a[b].length;for(c=Array(f);0<=
--e;)for(d=a[e],b=d.length;0<=--b;)c[--f]=d[b];return c};var H=Math.abs;n.range=function(a,b,c){if(3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0)),(b-a)/c===1/0)throw Error("infinite range");var d,e=[],f;d=H(c);for(f=1;d*f%1;)f*=10;var k=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++k)>b;)e.push(d/f);else for(;(d=a+c*++k)<b;)e.push(d/f);return e};n.map=function(a,b){var c=new Q;if(a instanceof Q)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<
f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(e in a)c.set(e,a[e]);return c};var wg="__proto__",Ec="\x00";qa(Q,{has:ra,get:function(a){return this._[T(a)]},set:function(a,b){return this._[T(a)]=b},remove:h,keys:m,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:fa(b),value:this._[b]});return a},size:g,empty:p,forEach:function(a){for(var b in this._)a.call(this,fa(b),this._[b])}});n.nest=function(){function a(b,
k,q){if(q>=f.length)return d?d.call(e,k):c?k.sort(c):k;for(var t,g,n,h,m=-1,p=k.length,r=f[q++],z=new Q;++m<p;)(h=z.get(t=r(g=k[m])))?h.push(g):z.set(t,[g]);return b?(g=b(),n=function(c,d){g.set(c,a(b,d,q))}):(g={},n=function(c,d){g[c]=a(b,d,q)}),z.forEach(n),g}function b(a,c){if(c>=f.length)return a;var d=[],e=k[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],k=[];return e.map=function(b,c){return a(c,b,0)},e.entries=
function(c){return b(a(n.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return k[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e};n.set=function(a){var b=new r;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b};qa(r,{has:ra,add:function(a){return this._[T(a+="")]=!0,a},remove:h,values:m,size:g,empty:p,forEach:function(a){for(var b in this._)a.call(this,fa(b))}});n.behavior={};n.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<
e;)a[c=arguments[d]]=x(a,b,b[c]);return a};var Rd="webkit ms moz Moz o O".split(" ");n.dispatch=function(){for(var a=new K,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=Sd(a);return a};K.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(0<=c&&(d=a.slice(c+1),a=a.slice(0,c)),a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}};n.event=null;n.requote=function(a){return a.replace(ti,
"\\$&")};var ti=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Eb={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Gc=function(a,b){return b.querySelector(a)},Hc=function(a,b){return b.querySelectorAll(a)},Ic=function(a,b){var c=a.matches||a[R(a,"matchesSelector")];return(Ic=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(Gc=function(a,b){return Sizzle(a,b)[0]||null},Hc=Sizzle,Ic=Sizzle.matchesSelector);n.selection=function(){return n.select(ia.documentElement)};
var U=n.selection.prototype=[];U.select=function(a){var b,c,d,e,f=[];a=Fc(a);for(var k=-1,l=this.length;++k<l;){f.push(b=[]);b.parentNode=(d=this[k]).parentNode;for(var v=-1,q=d.length;++v<q;)(e=d[v])?(b.push(c=a.call(e,e.__data__,v,k)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return ma(f)};U.selectAll=function(a){var b,c,d=[];a=Td(a);for(var e=-1,f=this.length;++e<f;)for(var k=this[e],l=-1,v=k.length;++l<v;)(c=k[l])&&(d.push(b=Na(a.call(c,c.__data__,l,e))),b.parentNode=c);return ma(d)};
var Jd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:Jd,qualify:function(a){var b=a.indexOf(":"),c=a;return 0<=b&&(c=a.slice(0,b),a=a.slice(b+1)),Jd.hasOwnProperty(c)?{space:Jd[c],local:a}:a}};U.attr=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node();return a=n.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):
c.getAttribute(a)}for(b in a)this.each(Ud(b,a[b]));return this}return this.each(Ud(a,b))};U.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!Wd(a[e]).test(b))return!1;return!0}for(b in a)this.each(Xd(b,a[b]));return this}return this.each(Xd(a,b))};U.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=
typeof a){2>d&&(b="");for(c in a)this.each(Yd(c,a[c],b));return this}if(2>d)return d=this.node(),O(d).getComputedStyle(d,null).getPropertyValue(a);c=""}return this.each(Yd(a,b,c))};U.property=function(a,b){if(2>arguments.length){if("string"==typeof a)return this.node()[a];for(b in a)this.each(Zd(b,a[b]));return this}return this.each(Zd(a,b))};U.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=
""}:function(){this.textContent=a}):this.node().textContent};U.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};U.append=function(a){return a=$d(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};U.insert=function(a,b){return a=$d(a),b=Fc(b),this.select(function(){return this.insertBefore(a.apply(this,
arguments),b.apply(this,arguments)||null)})};U.remove=function(){return this.each(yg)};U.data=function(a,b){function c(a,c){var d,e,f,k=a.length,g=c.length,n=Math.min(k,g),h=Array(g),m=Array(g),p=Array(k);if(b){var r,n=new Q,u=Array(k);for(d=-1;++d<k;)n.has(r=b.call(e=a[d],e.__data__,d))?p[d]=e:n.set(r,e),u[d]=r;for(d=-1;++d<g;)(e=n.get(r=b.call(c,f=c[d],d)))?!0!==e&&(h[d]=e,e.__data__=f):m[d]={__data__:f},n.set(r,!0);for(d=-1;++d<k;)!0!==n.get(u[d])&&(p[d]=a[d])}else{for(d=-1;++d<n;)e=a[d],f=c[d],
e?(e.__data__=f,h[d]=e):m[d]={__data__:f};for(;g>d;++d)m[d]={__data__:c[d]};for(;k>d;++d)p[d]=a[d]}m.update=h;m.parentNode=h.parentNode=p.parentNode=a.parentNode;l.push(m);v.push(h);q.push(p)}var d,e,f=-1,k=this.length;if(!arguments.length){for(a=Array(k=(d=this[0]).length);++f<k;)(e=d[f])&&(a[f]=e.__data__);return a}var l=be([]),v=ma([]),q=ma([]);if("function"==typeof a)for(;++f<k;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<k;)c(d=this[f],a);return v.enter=function(){return l},
v.exit=function(){return q},v};U.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};U.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=ae(a));for(var f=0,k=this.length;k>f;f++){e.push(b=[]);b.parentNode=(c=this[f]).parentNode;for(var l=0,v=c.length;v>l;l++)(d=c[l])&&a.call(d,d.__data__,l,f)&&b.push(d)}return ma(e)};U.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];0<=--e;)(c=d[e])&&(f&&f!==c.nextSibling&&
f.parentNode.insertBefore(c,f),f=c);return this};U.sort=function(a){a=zg.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};U.each=function(a){return Ea(this,function(b,c,d){a.call(b,b.__data__,c,d)})};U.call=function(a){var b=Na(arguments);return a.apply(b[0]=this,b),this};U.empty=function(){return!this.node()};U.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null};U.size=function(){var a=
0;return Ea(this,function(){++a}),a};var Fa=[];n.selection.enter=be;n.selection.enter.prototype=Fa;Fa.append=U.append;Fa.empty=U.empty;Fa.node=U.node;Fa.call=U.call;Fa.size=U.size;Fa.select=function(a){for(var b,c,d,e,f,k=[],l=-1,v=this.length;++l<v;){d=(e=this[l]).update;k.push(b=[]);b.parentNode=e.parentNode;for(var q=-1,g=e.length;++q<g;)(f=e[q])?(b.push(d[q]=c=a.call(e.parentNode,f.__data__,q,l)),c.__data__=f.__data__):b.push(null)}return ma(k)};Fa.insert=function(a,b){return 2>arguments.length&&
(b=Ag(this)),U.insert.call(this,a,b)};n.select=function(a){var b;return"string"==typeof a?(b=[Gc(a,ia)],b.parentNode=ia.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),ma([b])};n.selectAll=function(a){var b;return"string"==typeof a?(b=Na(Hc(a,ia)),b.parentNode=ia.documentElement):(b=a,b.parentNode=null),ma([b])};U.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(ce(c,a[c],b));return this}if(2>d)return(d=
this.node()["__on"+a])&&d._;c=!1}return this.each(ce(a,b,c))};var Jc=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});ia&&Jc.forEach(function(a){"on"+a in ia&&Jc.remove(a)});var Va,Cg=0;n.mouse=function(a){return Kc(a,M())};var Lc=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;n.touch=function(a,b,c){if(3>arguments.length&&(c=b,b=M().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return Kc(a,d)};n.behavior.drag=function(){function a(){this.on("mousedown.drag",
e).on("touchstart.drag",f)}function b(a,b,e,f,g){return function(){var h,m=n.event.target,p=this.parentNode,r=c.of(this,arguments),V=0,u=a(),z=".drag"+(null==u?"":"-"+u),A=n.select(e(m)).on(f+z,function(){var a,c,d=b(p,u);d&&(a=d[0]-N[0],c=d[1]-N[1],V=V|a|c,N=d,r({type:"drag",x:d[0]+h[0],y:d[1]+h[1],dx:a,dy:c}))}).on(g+z,function(){b(p,u)&&(A.on(f+z,null).on(g+z,null),C(V&&n.event.target===m),r({type:"dragend"}))}),C=Fb(m),N=b(p,u);d?(h=d.apply(this,arguments),h=[h.x-N[0],h.y-N[1]]):h=[0,0];r({type:"dragstart"})}}
var c=ha(a,"drag","dragstart","dragend"),d=null,e=b(E,n.mouse,O,"mousemove","mouseup"),f=b(Dg,n.touch,u,"touchmove","touchend");return a.origin=function(b){return arguments.length?(d=b,a):d},n.rebind(a,c,"on")};n.touches=function(a,b){return 2>arguments.length&&(b=M().touches),b?Na(b).map(function(b){var d=Kc(a,b);return d.identifier=b.identifier,d}):[]};var B=1E-6,kd=B*B,L=Math.PI,oa=2*L,ui=oa-B,aa=L/2,G=L/180,Z=180/L,nc=Math.SQRT2;n.interpolateZoom=function(a,b){function c(a){var b=a*p;if(m){a=
fe(h);var c=f/(2*t),k,q=nc*b+h;k=((q=Math.exp(2*q))-1)/(q+1);k*=a;var n=h,q=((n=Math.exp(n))-1/n)/2,c=c*(k-q);return[d+c*l,e+c*g,f*a/fe(nc*b+h)]}return[d+a*l,e+a*g,f*Math.exp(nc*b)]}var d=a[0],e=a[1],f=a[2],k=b[2],l=b[0]-d,g=b[1]-e,q=l*l+g*g,t=Math.sqrt(q),n=(k*k-f*f+4*q)/(4*f*t),q=(k*k-f*f-4*q)/(4*k*t),h=Math.log(Math.sqrt(n*n+1)-n),m=Math.log(Math.sqrt(q*q+1)-q)-h,p=(m||Math.log(k/f))/nc;return c.duration=1E3*p,c};n.behavior.zoom=function(){function a(a){a.on(B,q).on(Kd+".zoom",h).on("dblclick.zoom",
m).on(R,t)}function b(a){return[(a[0]-J.x)/J.k,(a[1]-J.y)/J.k]}function c(a){J.k=Math.max(x[0],Math.min(x[1],a))}function d(a,b){b=[b[0]*J.k+J.x,b[1]*J.k+J.y];J.x+=a[0]-b[0];J.y+=a[1]-b[1]}function e(b,e,f,k){b.__chart__={x:J.x,y:J.y,k:J.k};c(Math.pow(2,k));d(r=e,f);b=n.select(b);0<ca&&(b=b.transition().duration(ca));b.call(a.event)}function f(){C&&C.domain(A.range().map(function(a){return(a-J.x)/J.k}).map(A.invert));Xa&&Xa.domain(N.range().map(function(a){return(a-J.y)/J.k}).map(N.invert))}function k(a){E++||
a({type:"zoomstart"})}function l(a){f();a({type:"zoom",scale:J.k,translate:[J.x,J.y]})}function g(a){--E||a({type:"zoomend"});r=null}function q(){var a=this,c=n.event.target,e=w.of(a,arguments),f=0,q=n.select(O(a)).on(D,function(){f=1;d(n.mouse(a),t);l(e)}).on(M,function(){q.on(D,null).on(M,null);h(f&&n.event.target===c);g(e)}),t=b(n.mouse(a)),h=Fb(a);oc.call(a);k(e)}function t(){function a(){var c=n.touches(p);return y=J.k,c.forEach(function(a){a.identifier in C&&(C[a.identifier]=b(a))}),c}function f(){var b=
n.event.target;n.select(b).on(u,h).on(V,m);P.push(b);for(var b=n.event.changedTouches,c=0,d=b.length;d>c;++c)C[b[c].identifier]=null;c=a();d=Date.now();1===c.length?(500>d-z&&(b=c[0],e(p,b,C[b.identifier],Math.floor(Math.log(J.k)/Math.LN2)+1),Ma()),z=d):1<c.length&&(b=c[0],d=c[1],c=b[0]-d[0],b=b[1]-d[1],r=c*c+b*b)}function h(){var a,b,e,f,k=n.touches(p);oc.call(p);for(var q=0,g=k.length;g>q;++q,f=null)if(e=k[q],f=C[e.identifier]){if(b)break;a=e;b=f}if(f){var v=(v=e[0]-a[0])*v+(v=e[1]-a[1])*v,k=r&&
Math.sqrt(v/r);a=[(a[0]+e[0])/2,(a[1]+e[1])/2];b=[(b[0]+f[0])/2,(b[1]+f[1])/2];c(k*y)}z=null;d(a,b);l(F)}function m(){if(n.event.touches.length){for(var b=n.event.changedTouches,c=0,d=b.length;d>c;++c)delete C[b[c].identifier];for(var e in C)return void a()}n.selectAll(P).on(A,null);N.on(B,q).on(R,t);Eg();g(F)}var y,p=this,F=w.of(p,arguments),C={},r=0,A=".zoom-"+n.event.changedTouches[0].identifier,u="touchmove"+A,V="touchend"+A,P=[],N=n.select(p),Eg=Fb(p);f();k(F);N.on(B,null).on(R,f)}function h(){var a=
w.of(this,arguments);P?clearTimeout(P):(p=b(r=u||n.mouse(this)),oc.call(this),k(a));P=setTimeout(function(){P=null;g(a)},50);Ma();c(Math.pow(2,.002*pc())*J.k);d(r,p);l(a)}function m(){var a=n.mouse(this),c=Math.log(J.k)/Math.LN2;e(this,a,b(a),n.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var p,r,u,P,z,A,C,N,Xa,J={x:0,y:0,k:1},Y=[960,500],x=fg,ca=250,E=0,B="mousedown.zoom",D="mousemove.zoom",M="mouseup.zoom",R="touchstart.zoom",w=ha(a,"zoomstart","zoom","zoomend");return Kd||(Kd="onwheel"in ia?
(pc=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ia?(pc=function(){return n.event.wheelDelta},"mousewheel"):(pc=function(){return-n.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=w.of(this,arguments),b=J;eb?n.select(this).transition().each("start.zoom",function(){J=this.__chart__||{x:0,y:0,k:1};k(a)}).tween("zoom:zoom",function(){var c=Y[0],d=Y[1],e=r?r[0]:c/2,f=r?r[1]:d/2,k=n.interpolateZoom([(e-J.x)/J.k,(f-J.y)/J.k,c/J.k],
[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){b=k(b);var d=c/b[2];this.__chart__=J={x:e-b[0]*d,y:f-b[1]*d,k:d};l(a)}}).each("interrupt.zoom",function(){g(a)}).each("end.zoom",function(){g(a)}):(this.__chart__=J,k(a),l(a),g(a))})},a.translate=function(b){return arguments.length?(J={x:+b[0],y:+b[1],k:J.k},f(),a):[J.x,J.y]},a.scale=function(b){return arguments.length?(J={x:J.x,y:J.y,k:+b},f(),a):J.k},a.scaleExtent=function(b){return arguments.length?(x=null==b?fg:[+b[0],+b[1]],a):x},a.center=function(b){return arguments.length?
(u=b&&[+b[0],+b[1]],a):u},a.size=function(b){return arguments.length?(Y=b&&[+b[0],+b[1]],a):Y},a.duration=function(b){return arguments.length?(ca=+b,a):ca},a.x=function(b){return arguments.length?(C=b,A=b.copy(),J={x:0,y:0,k:1},a):C},a.y=function(b){return arguments.length?(Xa=b,N=b.copy(),J={x:0,y:0,k:1},a):Xa},n.rebind(a,w,"on")};var pc,Kd,fg=[0,1/0];n.color=Wa;Wa.prototype.toString=function(){return this.rgb()+""};n.hsl=Aa;var Ld=Aa.prototype=new Wa;Ld.brighter=function(a){return a=Math.pow(.7,
arguments.length?a:1),new Aa(this.h,this.s,this.l/a)};Ld.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Aa(this.h,this.s,a*this.l)};Ld.rgb=function(){return Nc(this.h,this.s,this.l)};n.hcl=va;var Md=va.prototype=new Wa;Md.brighter=function(a){return new va(this.h,this.c,Math.min(100,this.l+qc*(arguments.length?a:1)))};Md.darker=function(a){return new va(this.h,this.c,Math.max(0,this.l-qc*(arguments.length?a:1)))};Md.rgb=function(){return Oc(this.h,this.c,this.l).rgb()};n.lab=wa;
var qc=18,me=.95047,ne=1,oe=1.08883,Nd=wa.prototype=new Wa;Nd.brighter=function(a){return new wa(Math.min(100,this.l+qc*(arguments.length?a:1)),this.a,this.b)};Nd.darker=function(a){return new wa(Math.max(0,this.l-qc*(arguments.length?a:1)),this.a,this.b)};Nd.rgb=function(){return le(this.l,this.a,this.b)};n.rgb=ja;var rc=ja.prototype=new Wa;rc.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;return b||c||d?(b&&30>b&&(b=30),c&&30>c&&(c=30),d&&30>d&&(d=30),new ja(Math.min(255,
b/a),Math.min(255,c/a),Math.min(255,d/a))):new ja(30,30,30)};rc.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ja(a*this.r,a*this.g,a*this.b)};rc.hsl=function(){return ie(this.r,this.g,this.b)};rc.toString=function(){return"#"+fb(this.r)+fb(this.g)+fb(this.b)};var Hb=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,
cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,
deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,
lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,
mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,
royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Hb.forEach(function(a,b){Hb.set(a,new ja(b>>16,b>>8&255,255&
b))});n.functor=W;n.xhr=Uc(u);n.dsv=function(a,b){function c(a,c,f){3>arguments.length&&(f=c,c=null);var k=Ib(a,b,null==c?d:e(c),f);return k.row=function(a){return arguments.length?k.response(null==(c=a)?d:e(a)):c},k}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(k).join(a)}function k(a){return l.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var l=new RegExp('["'+a+"\n]"),g=a.charCodeAt(0);return c.parse=function(a,
b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(h>=n)return k;if(e)return e=!1,f;var b=h;if(34===a.charCodeAt(b)){for(var d=b;d++<n;)if(34===a.charCodeAt(d)){if(34!==a.charCodeAt(d+1))break;++d}h=d+2;var l=a.charCodeAt(d+1);return 13===l?(e=!0,10===a.charCodeAt(d+2)&&++h):10===l&&(e=!0),a.slice(b+
1,d).replace(/""/g,'"')}for(;n>h;){l=a.charCodeAt(h++);d=1;if(10===l)e=!0;else if(13===l)e=!0,10===a.charCodeAt(h)&&(++h,++d);else if(l!==g)continue;return a.slice(b,h-d)}return a.slice(b)}for(var d,e,f={},k={},l=[],n=a.length,h=0,m=0;(d=c())!==k;){for(var p=[];d!==f&&d!==k;)p.push(d),d=c();b&&null==(p=b(p,m++))||l.push(p)}return l},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new r,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(k).join(a)].concat(b.map(function(b){return e.map(function(a){return k(b[a])}).join(a)})).join("\n")},
c.formatRows=function(a){return a.map(f).join("\n")},c};n.csv=n.dsv(",","text/csv");n.tsv=n.dsv("\t","text/tab-separated-values");var Lb,Mb,Kb,Jb,Ga,re=this[R(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};n.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,f:!1,n:null};Mb?Mb.n=d:Lb=d;Mb=d;Kb||(Jb=clearTimeout(Jb),Kb=1,re(Vc))};n.timer.flush=function(){pe();qe()};n.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};
var vi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*H(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});n.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a*=-1),b&&(a=n.round(a,Wc(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),vi[8+c/3]};var se=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Hg=n.map({b:function(a){return a.toString(2)},
c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=n.round(a,Wc(a,b))).toFixed(Math.max(0,Math.min(20,Wc(a*(1+1E-15),b))))}}),D=n.time={},ga=Date;Ha.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},
getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){La.setUTCDate.apply(this._,arguments)},
setDay:function(){La.setUTCDay.apply(this._,arguments)},setFullYear:function(){La.setUTCFullYear.apply(this._,arguments)},setHours:function(){La.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){La.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){La.setUTCMinutes.apply(this._,arguments)},setMonth:function(){La.setUTCMonth.apply(this._,arguments)},setSeconds:function(){La.setUTCSeconds.apply(this._,arguments)},setTime:function(){La.setTime.apply(this._,arguments)}};var La=
Date.prototype;D.year=Ya(function(a){return a=D.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});D.years=D.year.range;D.years.utc=D.year.utc.range;D.day=Ya(function(a){var b=new ga(2E3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});D.days=D.day.range;D.days.utc=D.day.utc.range;D.dayOfYear=function(a){var b=D.year(a);return Math.floor((a-b-6E4*
(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=D[a]=Ya(function(a){return(a=D.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=D.year(a).getDay();return Math.floor((D.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});D[a+"s"]=c.range;D[a+"s"].utc=c.utc.range;D[a+"OfYear"]=function(a){var c=D.year(a).getDay();return Math.floor((D.dayOfYear(a)+
(c+b)%7)/7)}});D.week=D.sunday;D.weeks=D.sunday.range;D.weeks.utc=D.sunday.utc.range;D.weekOfYear=D.sundayOfYear;var te={"-":"",_:" ",0:"0"},ba=/^\s*\d+/,we=/^%/;n.locale=function(a){return{numberFormat:Gg(a),timeFormat:Jg(a)}};var gg=n.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});n.format=gg.numberFormat;n.geo={};Xc.prototype={s:0,t:0,add:function(a){xe(a,this.t,sc);xe(sc.s,this.s,this);this.s?this.t+=sc.t:this.s=sc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var sc=new Xc;n.geo.stream=function(a,b){a&&hg.hasOwnProperty(a.type)?hg[a.type](a,b):Qb(a,b)};var hg={Feature:function(a,
b){Qb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Qb(c[d].geometry,b)}},ye={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Yc(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Yc(c[d],b,0)},Polygon:function(a,b){ze(a.coordinates,b)},
MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)ze(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)Qb(c[d],b)}};n.geo.area=function(a){return pb=0,n.geo.stream(a,na),pb};var pb,Za=new Xc,na={sphere:function(){pb+=4*L},point:E,lineStart:E,lineEnd:E,polygonStart:function(){Za.reset();na.lineStart=Yg},polygonEnd:function(){var a=2*Za;pb+=0>a?4*L+a:a;na.lineStart=na.lineEnd=na.point=E}};n.geo.bounds=function(){function a(a,b){C.push(N=
[t=a,m=a]);h>b&&(h=b);b>p&&(p=b)}function b(b,c){var d=$a([b*G,c*G]);if(z){var e=gb(z,d),e=gb([e[1],-e[0],0],e);Tb(e);var e=Ub(e),f=b-r,k=0<f?1:-1,q=e[0]*Z*k,f=180<H(f);f^(q>k*r&&k*b>q)?(e=e[1]*Z,e>p&&(p=e)):(q=(q+360)%360-180,f^(q>k*r&&k*b>q))?(e=-e[1]*Z,h>e&&(h=e)):(h>c&&(h=c),c>p&&(p=c));f?r>b?l(t,b)>l(t,m)&&(m=b):l(b,m)>l(t,m)&&(t=b):m>=t?(t>b&&(t=b),b>m&&(m=b)):b>r?l(t,b)>l(t,m)&&(m=b):l(b,m)>l(t,m)&&(t=b)}else a(b,c);z=d;r=b}function c(){x.point=b}function d(){N[0]=t;N[1]=m;x.point=a;z=null}
function e(a,c){if(z){var d=a-r;A+=180<H(d)?d+(0<d?360:-360):d}else u=a,P=c;na.point(a,c);b(a,c)}function f(){na.lineStart()}function k(){e(u,P);na.lineEnd();H(A)>B&&(t=-(m=180));N[0]=t;N[1]=m;z=null}function l(a,b){return 0>(b-=a)?b+360:b}function g(a,b){return a[0]-b[0]}function q(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var t,h,m,p,r,u,P,z,A,C,N,x={point:a,lineStart:c,lineEnd:d,polygonStart:function(){x.point=e;x.lineStart=f;x.lineEnd=k;A=0;na.polygonStart()},polygonEnd:function(){na.polygonEnd();
x.point=a;x.lineStart=c;x.lineEnd=d;0>Za?(t=-(m=180),h=-(p=90)):A>B?p=90:-B>A&&(h=-90);N[0]=t;N[1]=m}};return function(a){p=m=-(t=h=1/0);C=[];n.geo.stream(a,x);if(a=C.length){C.sort(g);for(var b,c=1,d=C[0],e=[d];a>c;++c)b=C[c],q(b[0],d)||q(b[1],d)?(l(d[0],b[1])>l(d[0],d[1])&&(d[1]=b[1]),l(b[0],d[1])>l(d[0],d[1])&&(d[0]=b[0])):e.push(d=b);var f,k=-1/0;a=e.length-1;c=0;for(d=e[a];a>=c;d=b,++c)b=e[c],(f=l(d[1],b[0]))>k&&(k=f,t=b[0],m=d[1])}return C=N=null,1/0===t||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[t,h],
[m,p]]}}();n.geo.centroid=function(a){sb=hb=Ia=Ja=Ba=sa=ta=la=Pa=Qa=Ca=0;n.geo.stream(a,ya);a=Pa;var b=Qa,c=Ca,d=a*a+b*b+c*c;return kd>d&&(a=sa,b=ta,c=la,B>hb&&(a=Ia,b=Ja,c=Ba),d=a*a+b*b+c*c,kd>d)?[0/0,0/0]:[Math.atan2(b,a)*Z,Oa(c/Math.sqrt(d))*Z]};var sb,hb,Ia,Ja,Ba,sa,ta,la,Pa,Qa,Ca,ya={sphere:E,point:$c,lineStart:Ae,lineEnd:Be,polygonStart:function(){ya.lineStart=Zg},polygonEnd:function(){ya.lineStart=Ae}},Se=Fe(ib,function(a){var b,c=0/0,d=0/0,e=0/0;return{lineStart:function(){a.lineStart();b=
1},point:function(f,k){var l=0<f?L:-L,g=H(f-c);if(H(g-L)<B)a.point(c,d=0<(d+k)/2?aa:-aa),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(l,d),a.point(f,d),b=0;else if(e!==l&&g>=L){H(c-e)<B&&(c-=e*B);H(f-l)<B&&(f-=l*B);var g=c,q=d,t=f,n,h,m=Math.sin(g-t);d=H(m)>B?Math.atan((Math.sin(q)*(h=Math.cos(k))*Math.sin(t)-Math.sin(k)*(n=Math.cos(q))*Math.sin(g))/(n*h*m)):(q+k)/2;a.point(e,d);a.lineEnd();a.lineStart();a.point(l,d);b=0}a.point(c=f,d=k);e=l},lineEnd:function(){a.lineEnd();c=d=0/0},clean:function(){return 2-
b}}},function(a,b,c,d){null==a?(c*=aa,d.point(-L,c),d.point(0,c),d.point(L,c),d.point(L,0),d.point(L,-c),d.point(0,-c),d.point(-L,-c),d.point(-L,0),d.point(-L,c)):H(a[0]-b[0])>B?(a=a[0]<b[0]?L:-L,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-L,-L/2]),Xb=1E9;n.geo.clipExtent=function(){var a,b,c,d,e,f,k={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(l){return arguments.length?(f=Je(a=+l[0][0],b=+l[0][1],c=+l[1][0],d=+l[1][1]),e&&(e.valid=!1,
e=null),k):[[a,b],[c,d]]}};return k.extent([[0,0],[960,500]])};(n.geo.conicEqualArea=function(){return bd(Ke)}).raw=Ke;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){function a(a){var f=a[0];a=a[1];return b=null,c(f,a),b||(d(f,a),b)||e(f,a),b}var b,c,d,e,f=n.geo.albers(),k=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=n.geo.conicEqualArea().rotate([157,0]).center([-3,
19.9]).parallels([8,18]),g={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,b=(a[1]-c[1])/b;return(.12<=b&&.234>b&&-.425<=d&&-.214>d?k:.166<=b&&.234>b&&-.214<=d&&-.115>d?l:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=k.stream(a),d=l.stream(a);return{point:function(a,e){b.point(a,e);c.point(a,e);d.point(a,e)},sphere:function(){b.sphere();c.sphere();d.sphere()},lineStart:function(){b.lineStart();c.lineStart();d.lineStart()},lineEnd:function(){b.lineEnd();
c.lineEnd();d.lineEnd()},polygonStart:function(){b.polygonStart();c.polygonStart();d.polygonStart()},polygonEnd:function(){b.polygonEnd();c.polygonEnd();d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),k.precision(b),l.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),k.scale(.35*b),l.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var t=f.scale(),n=+b[0],h=+b[1];
return c=f.translate(b).clipExtent([[n-.455*t,h-.238*t],[n+.455*t,h+.238*t]]).stream(g).point,d=k.translate([n-.307*t,h+.201*t]).clipExtent([[n-.425*t+B,h+.12*t+B],[n-.214*t-B,h+.234*t-B]]).stream(g).point,e=l.translate([n-.205*t,h+.212*t]).clipExtent([[n-.214*t+B,h+.166*t+B],[n-.115*t-B,h+.234*t-B]]).stream(g).point,a},a.scale(1070)};var tc,Yb,uc,vc,wc,xc,Ra={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Yb=0;Ra.lineStart=ch},polygonEnd:function(){Ra.lineStart=Ra.lineEnd=Ra.point=E;tc+=H(Yb/
2)}},wi={point:function(a,b){uc>a&&(uc=a);a>wc&&(wc=a);vc>b&&(vc=b);b>xc&&(xc=b)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E},za={point:ab,lineStart:Me,lineEnd:Ne,polygonStart:function(){za.lineStart=eh},polygonEnd:function(){za.point=ab;za.lineStart=Me;za.lineEnd=Ne}};n.geo.path=function(){function a(a){return a&&("function"==typeof k&&e.pointRadius(+k.apply(this,arguments)),f&&f.valid||(f=d(e)),n.geo.stream(a,f)),e.result()}var b,c,d,e,f,k=4.5;return a.area=function(a){return tc=0,n.geo.stream(a,
d(Ra)),tc},a.centroid=function(a){return Ia=Ja=Ba=sa=ta=la=Pa=Qa=Ca=0,n.geo.stream(a,d(za)),Ca?[Pa/Ca,Qa/Ca]:la?[sa/la,ta/la]:Ba?[Ia/Ba,Ja/Ba]:[0/0,0/0]},a.bounds=function(a){return wc=xc=-(uc=vc=1/0),n.geo.stream(a,d(wi)),[[uc,vc],[wc,xc]]},a.projection=function(c){return arguments.length?(d=(b=c)?c.stream||gh(c):u,f=null,a):b},a.context=function(b){return arguments.length?(e=null==(c=b)?new dh:new fh(b),"function"!=typeof k&&e.pointRadius(k),f=null,a):c},a.pointRadius=function(b){return arguments.length?
(k="function"==typeof b?b:(e.pointRadius(+b),+b),a):k},a.projection(n.geo.albersUsa()).context(null)};n.geo.transform=function(a){return{stream:function(b){b=new Re(b);for(var c in a)b[c]=a[c];return b}}};Re.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};n.geo.projection=
Sa;n.geo.projectionMutator=cd;(n.geo.equirectangular=function(){return Sa(tb)}).raw=tb.invert=tb;n.geo.rotation=function(a){function b(b){return b=a(b[0]*G,b[1]*G),b[0]*=Z,b[1]*=Z,b}return a=dd(a[0]%360*G,a[1]*G,2<a.length?a[2]*G:0),b.invert=function(b){return b=a.invert(b[0]*G,b[1]*G),b[0]*=Z,b[1]*=Z,b},b};Te.invert=tb;n.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=dd(-a[0]*G,-a[1]*G,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,
c));a[0]*=Z;a[1]*=Z}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=ad((b=+d)*G,e*G),a):b},a.precision=function(d){return arguments.length?(c=ad(b*G,(e=+d)*G),a):e},a.angle(90)};n.geo.distance=function(a,b){var c,d=(b[0]-a[0])*G,e=a[1]*G,f=b[1]*G,k=Math.sin(d),d=Math.cos(d),l=Math.sin(e),e=Math.cos(e),g=Math.sin(f),f=Math.cos(f);return Math.atan2(Math.sqrt((c=f*k)*c+(c=e*g-l*f*d)*
c),l*g+e*f*d)};n.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return n.range(Math.ceil(f/P)*P,e,P).map(m).concat(n.range(Math.ceil(q/z)*z,g,z).map(p)).concat(n.range(Math.ceil(d/r)*r,c,r).filter(function(a){return H(a%P)>B}).map(t)).concat(n.range(Math.ceil(l/u)*u,k,u).filter(function(a){return H(a%z)>B}).map(h))}var c,d,e,f,k,l,g,q,t,h,m,p,r=10,u=r,P=90,z=360,A=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},
a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(p(g).slice(1),m(e).reverse().slice(1),p(q).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],q=+b[0][1],g=+b[1][1],f>e&&(b=f,f=e,e=b),q>g&&(b=q,q=g,g=b),a.precision(A)):[[f,q],[e,g]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],l=+b[0][1],k=+b[1][1],d>c&&(b=d,d=c,
c=b),l>k&&(b=l,l=k,k=b),a.precision(A)):[[d,l],[c,k]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(P=+b[0],z=+b[1],a):[P,z]},a.minorStep=function(b){return arguments.length?(r=+b[0],u=+b[1],a):[r,u]},a.precision=function(b){return arguments.length?(A=+b,t=Ye(l,k,90),h=Ze(d,c,A),m=Ye(q,g,90),p=Ze(f,e,A),a):A},a.majorExtent([[-180,-90+B],[180,90-B]]).minorExtent([[-180,-80-B],[180,80+B]])};n.geo.greatArc=function(){function a(){return{type:"LineString",
coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=ed,e=fd;return a.distance=function(){return n.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a};n.geo.interpolate=function(a,b){return hh(a[0]*G,a[1]*G,b[0]*G,b[1]*G)};n.geo.length=
function(a){return yc=0,n.geo.stream(a,qb),yc};var yc,qb={sphere:E,point:E,lineStart:function(){function a(a,f){var k=Math.sin(f*=G),l=Math.cos(f),g=H((a*=G)-b),q=Math.cos(g);yc+=Math.atan2(Math.sqrt((g=l*Math.sin(g))*g+(g=d*k-c*l*q)*g),c*k+d*l*q);b=a;c=k;d=l}var b,c,d;qb.point=function(e,f){b=e*G;c=Math.sin(f*=G);d=Math.cos(f);qb.point=a};qb.lineEnd=function(){qb.point=qb.lineEnd=E}},lineEnd:E,polygonStart:E,polygonEnd:E},ig=ub(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/
2)});(n.geo.azimuthalEqualArea=function(){return Sa(ig)}).raw=ig;var jg=ub(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},u);(n.geo.azimuthalEquidistant=function(){return Sa(jg)}).raw=jg;(n.geo.conicConformal=function(){return bd($e)}).raw=$e;(n.geo.conicEquidistant=function(){return bd(af)}).raw=af;var kg=ub(function(a){return 1/a},Math.atan);(n.geo.gnomonic=function(){return Sa(kg)}).raw=kg;Zb.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-aa]};(n.geo.mercator=function(){return bf(Zb)}).raw=
Zb;var lg=ub(function(){return 1},Math.asin);(n.geo.orthographic=function(){return Sa(lg)}).raw=lg;var mg=ub(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(n.geo.stereographic=function(){return Sa(mg)}).raw=mg;gd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-aa]};(n.geo.transverseMercator=function(){var a=bf(gd),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:
90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=gd;n.geom={};n.geom.hull=function(a){function b(a){if(3>a.length)return[];var b,k=W(c),l=W(d),g=a.length,q=[],n=[];for(b=0;g>b;b++)q.push([+k.call(this,a[b],b),+l.call(this,a[b],b),b]);q.sort(ih);for(b=0;g>b;b++)n.push([q[b][0],-q[b][1]]);var k=cf(q),n=cf(n),l=n[0]===k[0],g=n[n.length-1]===k[k.length-1],h=[];for(b=k.length-1;0<=b;--b)h.push(a[q[k[b]][2]]);for(b=+l;b<n.length-g;++b)h.push(a[q[n[b]][2]]);return h}var c=jb,d=vb;return arguments.length?
b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)};n.geom.polygon=function(a){return Eb(a,zc),a};var zc=n.geom.polygon.prototype=[];zc.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e};zc.centroid=function(a){var b,c,d=-1,e=this.length,f=0,k=0,l=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=l,l=this[d],c=b[0]*l[1]-l[0]*b[1],f+=(b[0]+l[0])*c,k+=(b[1]+l[1])*
c;return[f*a,k*a]};zc.clip=function(a){for(var b,c,d,e,f,k,l=df(a),g=-1,q=this.length-df(this),n=this[q-1];++g<q;){b=a.slice();a.length=0;e=this[g];f=b[(d=b.length-l)-1];for(c=-1;++c<d;)k=b[c],hd(k,n,e)?(hd(f,n,e)||a.push(id(f,k,n,e)),a.push(k)):hd(f,n,e)&&a.push(id(f,k,n,e)),f=k;l&&a.push(a[0]);n=e}return a};var nb,bb,lb,ld,wb,ff=[],kf=[];hf.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(jf),b.length};bc.prototype={start:function(){return this.edge.l===
this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};md.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=mf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(yb(this,c),a=c,c=a.U),c.C=!1,d.C=!0,zb(this,d))):(e=d.L,e&&e.C?(c.C=
e.C=!1,d.C=!0,a=d):(a===c.L&&(zb(this,c),a=c,c=a.U),c.C=!1,d.C=!0,yb(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b,c,d,e=a.U,f=a.L,k=a.R;if(c=f?k?mf(k):f:k,e?e.L===a?e.L=c:e.R=c:this._=c,f&&k?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==k?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=k,k.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,yb(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&
b.R.C||(b.L.C=!1,b.C=!0,zb(this,b),b=e.R);b.C=e.C;e.C=b.R.C=!1;yb(this,e);a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,zb(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,yb(this,b),b=e.L);b.C=e.C;e.C=b.L.C=!1;zb(this,e);a=this._;break}b.C=!0;a=e;e=e.U}while(!a.C);a&&(a.C=!1)}}};n.geom.voronoi=function(a){function b(a){var b=Array(a.length),d=l[0][0],e=l[0][1],f=l[1][0],k=l[1][1];return nd(c(a),l).cells.forEach(function(c,l){var g=c.edges,n=c.site;(b[l]=g.length?g.map(function(a){a=
a.start();return[a.x,a.y]}):n.x>=d&&n.x<=f&&n.y>=e&&n.y<=k?[[d,k],[f,k],[f,e],[d,e]]:[]).point=a[l]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/B)*B,y:Math.round(k(a,b)/B)*B,i:b}})}var d=jb,e=vb,f=d,k=e,l=Ac;return a?b(a):(b.links=function(a){return nd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return nd(c(a)).cells.forEach(function(c,d){for(var e,f=c.site,k=c.edges.sort(jf),
l=-1,g=k.length,n=k[g-1].edge,n=n.l===f?n.r:n.l;++l<g;)e=n,n=k[l].edge,n=n.l===f?n.r:n.l,d<e.i&&d<n.i&&0>(f.x-n.x)*(e.y-f.y)-(f.x-e.x)*(n.y-f.y)&&b.push([a[d],a[e.i],a[n.i]])}),b},b.x=function(a){return arguments.length?(f=W(d=a),b):d},b.y=function(a){return arguments.length?(k=W(e=a),b):e},b.clipExtent=function(a){return arguments.length?(l=null==a?Ac:a,b):l===Ac?null:l},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):l===Ac?null:l&&l[1]},b)};var Ac=[[-1E6,-1E6],[1E6,1E6]];
n.geom.delaunay=function(a){return n.geom.voronoi().triangles(a)};n.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,k,l,g){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var q=a.x,h=a.y;if(null!=q){if(!(.01>H(q-c)+H(h-d))){var m=a.point;a.x=a.y=a.point=null;n(a,m,q,h,e,k,l,g)}n(a,b,c,d,e,k,l,g)}else a.x=c,a.y=d,a.point=b}else n(a,b,c,d,e,k,l,g)}function n(a,b,c,d,e,k,l,g){var q=.5*(e+l),h=.5*(k+g),m=c>=q,v=d>=h,p=v<<1|m;a.leaf=!1;a=a.nodes[p]||(a.nodes[p]=nf());m?e=q:l=q;v?k=h:g=h;f(a,b,
c,d,e,k,l,g)}var h,m,p,r,u,z,A,C,N,x=W(l),J=W(g);if(null!=b)z=b,A=c,C=d,N=e;else if(C=N=-(z=A=1/0),m=[],p=[],u=a.length,k)for(r=0;u>r;++r)h=a[r],h.x<z&&(z=h.x),h.y<A&&(A=h.y),h.x>C&&(C=h.x),h.y>N&&(N=h.y),m.push(h.x),p.push(h.y);else for(r=0;u>r;++r){var Y=+x(h=a[r],r);h=+J(h,r);z>Y&&(z=Y);A>h&&(A=h);Y>C&&(C=Y);h>N&&(N=h);m.push(Y);p.push(h)}Y=C-z;h=N-A;Y>h?N=A+Y:C=z+h;var E=nf();if(E.add=function(a){f(E,a,+x(a,++r),+J(a,r),z,A,C,N)},E.visit=function(a){Ab(a,E,z,A,C,N)},E.find=function(a){return qh(E,
a[0],a[1],z,A,C,N)},r=-1,null==b){for(;++r<u;)f(E,a[r],m[r],p[r],z,A,C,N);--r}else a.forEach(E.add);return m=p=a=h=null,E}var k,l=jb,g=vb;return(k=arguments.length)?(l=oh,g=ph,3===k&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(l=a,f):l},f.y=function(a){return arguments.length?(g=a,f):g},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==
a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)};n.interpolateRgb=od;n.interpolateObject=of;n.interpolateNumber=Ka;n.interpolateString=pf;var pd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qd=new RegExp(pd.source,"g");n.interpolate=cb;n.interpolators=[function(a,b){var c=typeof b;return("string"===c?Hb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?od:pf:b instanceof Wa?od:Array.isArray(b)?cc:"object"===c&&isNaN(b)?of:Ka)(a,b)}];n.interpolateArray=cc;var ng=function(){return u},xi=n.map({linear:ng,
poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return sh},cubic:function(){return th},sin:function(){return vh},exp:function(){return wh},circle:function(){return xh},elastic:function(a,b){var c;return 2>arguments.length&&(b=.45),arguments.length?c=b/oa*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*oa/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return yh}}),yi=n.map({"in":u,out:qf,
"in-out":rf,"out-in":function(a){return rf(qf(a))}});n.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in";return c=xi.get(c)||ng,b=yi.get(b)||u,rh(b(c.apply(null,cg.call(arguments,1))))};n.interpolateHcl=function(a,b){a=n.hcl(a);b=n.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,k=b.c-d,l=b.l-e;return isNaN(k)&&(k=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360),function(a){return Oc(c+f*a,d+k*a,e+l*a)+""}};n.interpolateHsl=function(a,b){a=
n.hsl(a);b=n.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,k=b.s-d,l=b.l-e;return isNaN(k)&&(k=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360),function(a){return Nc(c+f*a,d+k*a,e+l*a)+""}};n.interpolateLab=function(a,b){a=n.lab(a);b=n.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,k=b.a-d,l=b.b-e;return function(a){return le(c+f*a,d+k*a,e+l*a)+""}};n.interpolateRound=sf;n.transform=function(a){var b=ia.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(a){if(null!=a){b.setAttribute("transform",
a);var d=b.transform.baseVal.consolidate()}return new tf(d?d.matrix:zi)})(a)};tf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var zi={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=vf;n.layout={};n.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Bh(a[c]));return b}};n.layout.chord=function(){function a(){var a,q,m,p,r,u={},z=[],A=n.range(f),C=[];c=[];d=[];a=0;for(p=-1;++p<
f;){q=0;for(r=-1;++r<f;)q+=e[p][r];z.push(q);C.push(n.range(f));a+=q}k&&A.sort(function(a,b){return k(z[a],z[b])});l&&C.forEach(function(a,b){a.sort(function(a,c){return l(e[b][a],e[b][c])})});a=(oa-h*f)/a;q=0;for(p=-1;++p<f;){m=q;for(r=-1;++r<f;){var N=A[p],x=C[N][r],J=e[N][x],E=q,B=q+=J*a;u[N+"-"+x]={index:N,subindex:x,startAngle:E,endAngle:B,value:J}}d[N]={index:N,startAngle:m,endAngle:q,value:(q-m)/a};q+=h}for(p=-1;++p<f;)for(r=p-1;++r<f;)a=u[p+"-"+r],q=u[r+"-"+p],(a.value||q.value)&&c.push(a.value<
q.value?{source:q,target:a}:{source:a,target:q});g&&b()}function b(){c.sort(function(a,b){return g((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,k,l,g,q={},h=0;return q.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,q):e},q.padding=function(a){return arguments.length?(h=a,c=d=null,q):h},q.sortGroups=function(a){return arguments.length?(k=a,c=d=null,q):k},q.sortSubgroups=function(a){return arguments.length?(l=a,c=null,q):l},q.sortChords=
function(a){return arguments.length?(g=a,c&&b(),q):g},q.chords=function(){return c||a(),c},q.groups=function(){return d||a(),d},q};n.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){d=b.cx-a.x;var f=b.cy-a.y;c=e-c;e=d*d+f*f;if(e>c*c/P)return x>e&&(c=b.charge/e,a.px-=d*c,a.py-=f*c),!0;b.point&&e&&x>e&&(c=b.pointCharge/e,a.px-=d*c,a.py-=f*c)}return!b.charge}}function b(a){a.px=n.event.x;a.py=n.event.y;l.resume()}var c,d,e,f,k,l={},g=n.dispatch("start","tick","end"),q=[1,
1],h=.9,m=Ai,p=Bi,r=-30,x=Ci,V=.1,P=.64,z=[],A=[];return l.tick=function(){if(.005>(d*=.99))return g.end({type:"end",alpha:d=0}),!0;var b,c,l,m,p,y,u,F,P=z.length,x=A.length;for(c=0;x>c;++c)l=A[c],b=l.source,m=l.target,u=m.x-b.x,F=m.y-b.y,(p=u*u+F*F)&&(p=d*f[c]*((p=Math.sqrt(p))-e[c])/p,u*=p,F*=p,m.x-=u*(y=b.weight/(m.weight+b.weight)),m.y-=F*y,b.x+=u*(y=1-y),b.y+=F*y);if((y=d*V)&&(u=q[0]/2,F=q[1]/2,c=-1,y))for(;++c<P;)l=z[c],l.x+=(u-l.x)*y,l.y+=(F-l.y)*y;if(r)for(xf(b=n.geom.quadtree(z),d,k),c=-1;++c<
P;)(l=z[c]).fixed||b.visit(a(l));for(c=-1;++c<P;)l=z[c],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);g.tick({type:"tick",alpha:d})},l.nodes=function(a){return arguments.length?(z=a,l):z},l.links=function(a){return arguments.length?(A=a,l):A},l.size=function(a){return arguments.length?(q=a,l):q},l.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,l):m},l.distance=l.linkDistance,l.linkStrength=function(a){return arguments.length?(p="function"==
typeof a?a:+a,l):p},l.friction=function(a){return arguments.length?(h=+a,l):h},l.charge=function(a){return arguments.length?(r="function"==typeof a?a:+a,l):r},l.chargeDistance=function(a){return arguments.length?(x=a*a,l):Math.sqrt(x)},l.gravity=function(a){return arguments.length?(V=+a,l):V},l.theta=function(a){return arguments.length?(P=a*a,l):Math.sqrt(P)},l.alpha=function(a){return arguments.length?(a=+a,d?d=0<a?a:0:0<a&&(g.start({type:"start",alpha:d=a}),n.timer(l.tick)),l):d},l.start=function(){function a(d,
e){if(!c){c=Array(g);for(l=0;g>l;++l)c[l]=[];for(l=0;n>l;++l){var f=A[l];c[f.source.index].push(f.target);c[f.target.index].push(f.source)}}for(var k=c[b],l=-1,q=k.length;++l<q;)if(!isNaN(f=k[l][d]))return f;return Math.random()*e}var b,c,d,g=z.length,n=A.length,h=q[0],t=q[1];for(b=0;g>b;++b)(d=z[b]).index=b,d.weight=0;for(b=0;n>b;++b)d=A[b],"number"==typeof d.source&&(d.source=z[d.source]),"number"==typeof d.target&&(d.target=z[d.target]),++d.source.weight,++d.target.weight;for(b=0;g>b;++b)d=z[b],
isNaN(d.x)&&(d.x=a("x",h)),isNaN(d.y)&&(d.y=a("y",t)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(e=[],"function"==typeof m)for(b=0;n>b;++b)e[b]=+m.call(this,A[b],b);else for(b=0;n>b;++b)e[b]=m;if(f=[],"function"==typeof p)for(b=0;n>b;++b)f[b]=+p.call(this,A[b],b);else for(b=0;n>b;++b)f[b]=p;if(k=[],"function"==typeof r)for(b=0;g>b;++b)k[b]=+r.call(this,z[b],b);else for(b=0;g>b;++b)k[b]=r;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=
function(){return c||(c=n.behavior.drag().origin(u).on("dragstart.force",Ch).on("drag.force",b).on("dragend.force",Dh)),arguments.length?void this.on("mouseover.force",Eh).on("mouseout.force",Fh).call(c):c},n.rebind(l,g,"on")};var Ai=20,Bi=1,Ci=1/0;n.layout.hierarchy=function(){function a(e){var f,k=[e],l=[];for(e.depth=0;null!=(f=k.pop());)if(l.push(f),(q=c.call(a,f,f.depth))&&(g=q.length)){for(var g,q,n;0<=--g;)k.push(n=q[g]),n.parent=f,n.depth=f.depth+1;d&&(f.value=0);f.children=q}else d&&(f.value=
+d.call(a,f,f.depth)||0),delete f.children;return Da(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);d&&(e=a.parent)&&(e.value+=a.value)}),l}var b=Jh,c=Hh,d=Ih;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(Cb(b,function(a){a.children&&(a.value=0)}),Da(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);(c=b.parent)&&(c.value+=
b.value)})),b},a};n.layout.partition=function(){function a(b,c,d,e){var g=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,g&&(n=g.length)){var n,h,m=-1;for(d=b.value?d/b.value:0;++m<n;)a(h=g[m],c,b=h.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(d=a.length))for(var d,e=-1;++e<d;)c=Math.max(c,b(a[e]));return 1+c}function c(c,k){var l=d.call(this,c,k);return a(l[0],0,e[0],e[1]/b(l[0])),l}var d=n.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},Bb(c,
d)};n.layout.pie=function(){function a(k){var l,g=k.length,q=k.map(function(c,d){return+b.call(a,c,d)}),h=+("function"==typeof d?d.apply(this,arguments):d),m=("function"==typeof e?e.apply(this,arguments):e)-h,p=Math.min(Math.abs(m)/g,+("function"==typeof f?f.apply(this,arguments):f)),r=p*(0>m?-1:1),u=(m-g*r)/n.sum(q),g=n.range(g),V=[];return null!=c&&g.sort(c===og?function(a,b){return q[b]-q[a]}:function(a,b){return c(k[a],k[b])}),g.forEach(function(a){V[a]={data:k[a],value:l=q[a],startAngle:h,endAngle:h+=
l*u+r,padAngle:p}}),V}var b=Number,c=og,d=0,e=oa,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var og={};n.layout.stack=function(){function a(l,g){if(!(p=l.length))return l;var q=l.map(function(c,d){return b.call(a,c,d)}),h=q.map(function(b){return b.map(function(b,
c){return[f.call(a,b,c),k.call(a,b,c)]})}),m=c.call(a,h,g),q=n.permute(q,m),h=n.permute(h,m),p,r,u,V=d.call(a,h,g),P=q[0].length;for(r=0;P>r;++r)for(e.call(a,q[0][r],u=V[r],h[0][r][1]),m=1;p>m;++m)e.call(a,q[m][r],u+=h[m-1][r][1],h[m][r][1]);return l}var b=u,c=rd,d=sd,e=Mh,f=Kh,k=Lh;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:Di.get(b)||rd,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?
b:Ei.get(b)||sd,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(k=b,a):k},a.out=function(b){return arguments.length?(e=b,a):e},a};var Di=n.map({"inside-out":function(a){var b,c=a.length,d=a.map(Nh),e=a.map(Oh),f=n.range(c).sort(function(a,b){return d[a]-d[b]}),k=0,l=0,g=[],q=[];for(a=0;c>a;++a)b=f[a],l>k?(k+=e[b],g.push(b)):(l+=e[b],q.push(b));return q.reverse().concat(g)},reverse:function(a){return n.range(a.length).reverse()},"default":rd}),Ei=n.map({silhouette:function(a){var b,
c,d,e=a.length,f=a[0].length,k=[],l=0,g=[];for(c=0;f>c;++c){for(d=b=0;e>b;b++)d+=a[b][c][1];d>l&&(l=d);k.push(d)}for(c=0;f>c;++c)g[c]=(l-k[c])/2;return g},wiggle:function(a){var b,c,d,e,f,k,l,g,q,h=a.length,n=a[0],m=n.length,p=[];p[0]=g=q=0;for(c=1;m>c;++c){for(e=b=0;h>b;++b)e+=a[b][c][1];f=b=0;for(l=n[c][0]-n[c-1][0];h>b;++b){d=0;for(k=(a[b][c][1]-a[b][c-1][1])/(2*l);b>d;++d)k+=(a[d][c][1]-a[d][c-1][1])/l;f+=k*a[b][c][1]}p[c]=g-=e?f/e*l:0;q>g&&(q=g)}for(c=0;m>c;++c)p[c]-=q;return p},expand:function(a){var b,
c,d,e=a.length,f=a[0].length,k=1/e,l=[];for(c=0;f>c;++c){for(d=b=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=k}for(c=0;f>c;++c)l[c]=0;return l},zero:sd});n.layout.histogram=function(){function a(a,k){var l,g,q=[],h=a.map(c,this),m=d.call(this,h,k),p=e.call(this,m,h,k);k=-1;for(var r=h.length,u=p.length-1,V=b?1:1/r;++k<u;)l=q[k]=[],l.dx=p[k+1]-(l.x=p[k]),l.y=0;if(0<u)for(k=-1;++k<r;)g=h[k],g>=m[0]&&g<=m[1]&&(l=q[n.bisect(p,g,1,u)-1],l.y+=V,l.push(a[k]));
return q}var b=!0,c=Number,d=Rh,e=Qh;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=W(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return yf(a,b)}:W(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a};n.layout.pack=function(){function a(a,k){var l=c.call(this,a,k),g=l[0],q=e[0],h=e[1],n=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(g.x=g.y=0,Da(g,function(a){a.r=
+n(a.value)}),Da(g,Bf),d){var m=d*(b?1:Math.max(2*g.r/q,2*g.r/h))/2;Da(g,function(a){a.r+=m});Da(g,Bf);Da(g,function(a){a.r-=m})}return Df(g,q/2,h/2,b?1:1/Math.max(2*g.r/q,2*g.r/h)),l}var b,c=n.layout.hierarchy().sort(Sh),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},Bb(a,c)};n.layout.tree=function(){function a(a,h){var n=f.call(this,
a,h),m=n[0],p=b(m);if(Da(p,c),p.parent.m=-p.z,Cb(p,d),g)Cb(m,e);else{var r=m,u=m,P=m;Cb(m,function(a){a.x<r.x&&(r=a);a.x>u.x&&(u=a);a.depth>P.depth&&(P=a)});var z=k(r,u)/2-r.x,A=l[0]/(u.x+k(u,r)/2+z),C=l[1]/(P.depth||1);Cb(m,function(a){a.x=(a.x+z)*A;a.y=a.depth*C})}return n}function b(a){for(var b={A:null,children:[a]},c=[b];null!=(a=c.pop());)for(var d,e=a.children,f=0,k=e.length;k>f;++f)c.push((e[f]=d={_:e[f],parent:a,children:(d=e[f].children)&&d.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,
i:f}).a=d);return b.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){for(var e,f=0,l=0,g=a.children,h=g.length;0<=--h;)e=g[h],e.z+=f,e.m+=f,f+=e.s+(l+=e.c);b=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+k(a._,d._),a.m=a.z-b):a.z=b}else d&&(a.z=d.z+k(a._,d._));b=a.parent;c=a.parent.A||c[0];if(d){for(var f=e=a,l=d,g=e.parent.children[0],h=e.m,n=f.m,m=l.m,p=g.m;l=vd(l),e=ud(e),l&&e;){g=ud(g);f=vd(f);f.a=a;d=l.z+m-e.z-h+k(l._,e._);if(0<d){var v=l.a.parent===a.parent?
l.a:c,r=a,u=d,x=u/(r.i-v.i);r.c-=x;r.s+=u;v.c+=x;r.z+=u;r.m+=u;h+=d;n+=d}m+=l.m;h+=e.m;p+=g.m;n+=f.m}l&&!vd(f)&&(f.t=l,f.m+=m-n);e&&!ud(g)&&(g.t=e,g.m+=h-p,c=a)}b.A=c}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=l[0];a.y=a.depth*l[1]}var f=n.layout.hierarchy().sort(null).value(null),k=Ef,l=[1,1],g=null;return a.separation=function(b){return arguments.length?(k=b,a):k},a.size=function(b){return arguments.length?(g=null==(l=b)?e:null,a):g?null:l},a.nodeSize=function(b){return arguments.length?
(g=null==(l=b)?null:e,a):g?l:null},Bb(a,f)};n.layout.cluster=function(){function a(a,k){var l,g=b.call(this,a,k),h=g[0],n=0;Da(h,function(a){var b=a.children;b&&b.length?(a.x=Wh(b),a.y=Vh(b)):(a.x=l?n+=c(a,l):0,a.y=0,l=a)});var m=Ff(h),p=Gf(h),r=m.x-c(m,p)/2,u=p.x+c(p,m)/2;return Da(h,e?function(a){a.x=(a.x-h.x)*d[0];a.y=(h.y-a.y)*d[1]}:function(a){a.x=(a.x-r)/(u-r)*d[0];a.y=(1-(h.y?a.y/h.y:1))*d[1]}),g}var b=n.layout.hierarchy().sort(null).value(null),c=Ef,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?
(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},Bb(a,b)};n.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var e=c.children;if(e&&e.length){var f,k=m(c),l=[],g=e.slice(),h=1/0,n="slice"===r?k.dx:"dice"===r?k.dy:"slice-dice"===r?1&c.depth?k.dy:k.dx:Math.min(k.dx,k.dy);a(g,k.dx*k.dy/c.value);for(l.area=
0;0<(c=g.length);){l.push(c=g[c-1]);l.area+=c.area;var q;if(!(q="squarify"!==r)){c=n;f=void 0;var p=l.area;q=0;for(var v=1/0,F=-1,x=l.length;++F<x;)(f=l[F].area)&&(v>f&&(v=f),f>q&&(q=f));q=(f=(p*=p,c*=c,p?Math.max(c*q*u/p,p/(c*v*u)):1/0))<=h}q?(g.pop(),h=f):(l.area-=l.pop().area,d(l,n,k,!1),n=Math.min(k.dx,k.dy),l.length=l.area=0,h=1/0)}l.length&&(d(l,n,k,!0),l.length=l.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=m(b),k=e.slice(),l=[];a(k,f.dx*f.dy/b.value);for(l.area=
0;b=k.pop();)l.push(b),l.area+=b.area,null!=b.z&&(d(l,b.z?f.dx:f.dy,f,!k.length),l.length=l.area=0);e.forEach(c)}}function d(a,b,c,d){var e,f=-1,k=a.length,g=c.x,h=c.y,n=b?l(a.area/b):0;if(b==c.dx){for((d||n>c.dy)&&(n=c.dy);++f<k;)e=a[f],e.x=g,e.y=h,e.dy=n,g+=e.dx=Math.min(c.x+c.dx-g,n?l(e.area/n):0);e.z=!0;e.dx+=c.x+c.dx-g;c.y+=n;c.dy-=n}else{for((d||n>c.dx)&&(n=c.dx);++f<k;)e=a[f],e.x=g,e.y=h,e.dx=n,h+=e.dy=Math.min(c.y+c.dy-h,n?l(e.area/n):0);e.z=!1;e.dy+=c.y+c.dy-h;c.x+=n;c.dx-=n}}function e(d){d=
f||k(d);var e=d[0];return e.x=0,e.y=0,e.dx=g[0],e.dy=g[1],f&&k.revalue(e),a([e],e.dx*e.dy/e.value),(f?c:b)(e),p&&(f=d),d}var f,k=n.layout.hierarchy(),l=Math.round,g=[1,1],h=null,m=wd,p=!1,r="squarify",u=.5*(1+Math.sqrt(5));return e.size=function(a){return arguments.length?(g=a,e):g},e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return null==d?wd(c):Hf(c,"number"==typeof d?[d,d,d,d]:d)}function c(b){return Hf(b,a)}if(!arguments.length)return h;var d;return m=null==(h=a)?wd:"function"==
(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,e},e.round=function(a){return arguments.length?(l=a?Math.round:Number,e):l!=Number},e.sticky=function(a){return arguments.length?(p=a,f=null,e):p},e.ratio=function(a){return arguments.length?(u=a,e):u},e.mode=function(a){return arguments.length?(r=a+"",e):r},Bb(e,k)};n.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,e;do c=2*Math.random()-1,e=2*Math.random()-1,e=c*c+e*e;while(!e||1<e);return a+b*c*Math.sqrt(-2*
Math.log(e)/e)}},logNormal:function(){var a=n.random.normal.apply(n,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=n.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}};n.scale={};var Yh={floor:u,ceil:u};n.scale.linear=function(){return Jf([0,1],[0,1],cb,!1)};var ai={s:1,g:1,p:1,r:1,e:1};n.scale.log=function(){return Kf(n.scale.linear().domain([0,1]),10,!0,[1,10])};var Lf=n.format(".0e"),
bi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};n.scale.pow=function(){return Mf(n.scale.linear(),1,[0,1])};n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return Nf([],{t:"range",a:[[]]})};n.scale.category10=function(){return n.scale.ordinal().range(Fi)};n.scale.category20=function(){return n.scale.ordinal().range(Gi)};n.scale.category20b=function(){return n.scale.ordinal().range(Hi)};n.scale.category20c=function(){return n.scale.ordinal().range(Ii)};
var Fi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Gb),Gi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Gb),Hi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Gb),Ii=[3244733,7057110,10406625,
13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Gb);n.scale.quantile=function(){return Of([],[])};n.scale.quantize=function(){return Pf(0,1,[0,1])};n.scale.threshold=function(){return Qf([.5],[0,1])};n.scale.identity=function(){return Rf([0,1])};n.svg={};n.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),h=Math.max(0,+d.apply(this,arguments)),n=k.apply(this,arguments)-
aa,m=l.apply(this,arguments)-aa,p=Math.abs(m-n),r=n>m?0:1;if(a>h&&(u=h,h=a,a=u),p>=ui)return b(h,r)+(a?b(a,1-r):"")+"Z";var u,x,z,A,C,E,B,D,M,R;B=u=0;p=[];((A=(+g.apply(this,arguments)||0)/2)&&(z=f===Bc?Math.sqrt(a*a+h*h):+f.apply(this,arguments),r||(B*=-1),h&&(B=Oa(z/h*Math.sin(A))),a&&(u=Oa(z/a*Math.sin(A)))),h)?(z=h*Math.cos(n+B),A=h*Math.sin(n+B),C=h*Math.cos(m-B),E=h*Math.sin(m-B),x=Math.abs(m-n-2*B)<=L?0:1,B&&hc(z,A,C,E)===r^x&&(C=(n+m)/2,z=h*Math.cos(C),A=h*Math.sin(C),C=E=null)):z=A=0;if(a){B=
a*Math.cos(m-u);D=a*Math.sin(m-u);M=a*Math.cos(n+u);R=a*Math.sin(n+u);var w=Math.abs(n-m+2*u)<=L?0:1;u&&hc(B,D,M,R)===1-r^w&&(M=(n+m)/2,B=a*Math.cos(M),D=a*Math.sin(M),M=R=null)}else B=D=0;if(.001<(u=Math.min(Math.abs(h-a)/2,+e.apply(this,arguments)))){x=h>a^r?0:1;var w=null==M?[B,D]:null==C?[z,A]:id([z,A],[M,R],[C,E],[B,D]),n=z-w[0],m=A-w[1],K=C-w[0],G=E-w[1],n=1/Math.sin(Math.acos((n*K+m*G)/(Math.sqrt(n*n+m*m)*Math.sqrt(K*K+G*G)))/2),w=Math.sqrt(w[0]*w[0]+w[1]*w[1]);null!=C?(m=Math.min(u,(h-w)/
(n+1)),K=ic(null==M?[B,D]:[M,R],[z,A],h,m,r),G=ic([C,E],[B,D],h,m,r),u===m?p.push("M",K[0],"A",m,",",m," 0 0,",x," ",K[1],"A",h,",",h," 0 ",1-r^hc(K[1][0],K[1][1],G[1][0],G[1][1]),",",r," ",G[1],"A",m,",",m," 0 0,",x," ",G[0]):p.push("M",K[0],"A",m,",",m," 0 1,",x," ",G[0])):p.push("M",z,",",A);null!=M?(h=Math.min(u,(a-w)/(n-1)),M=ic([z,A],[M,R],a,-h,r),C=ic([B,D],null==C?[z,A]:[C,E],a,-h,r),u===h?p.push("L",C[0],"A",h,",",h," 0 0,",x," ",C[1],"A",a,",",a," 0 ",r^hc(C[1][0],C[1][1],M[1][0],M[1][1]),
",",1-r," ",M[1],"A",h,",",h," 0 0,",x," ",M[0]):p.push("L",C[0],"A",h,",",h," 0 0,",x," ",M[0])):p.push("L",B,",",D)}else p.push("M",z,",",A),null!=C&&p.push("A",h,",",h," 0 ",x,",",r," ",C,",",E),p.push("L",B,",",D),null!=M&&p.push("A",a,",",a," 0 ",w,",",1-r," ",M,",",R);return p.push("Z"),p.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=di,d=ei,e=ci,f=Bc,k=Sf,l=Tf,g=fi;return a.innerRadius=function(b){return arguments.length?(c=W(b),a):
c},a.outerRadius=function(b){return arguments.length?(d=W(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=W(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Bc?Bc:W(b),a):f},a.startAngle=function(b){return arguments.length?(k=W(b),a):k},a.endAngle=function(b){return arguments.length?(l=W(b),a):l},a.padAngle=function(b){return arguments.length?(g=W(b),a):g},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+k.apply(this,arguments)+ +l.apply(this,
arguments))/2-aa;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Bc="auto";n.svg.line=function(){return Uf(u)};var zd=n.map({linear:pa,"linear-closed":function(a){return pa(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return 1<c&&e.push("H",d[0]),e.join("")},"step-before":Ad,"step-after":Bd,basis:Vf,"basis-open":function(a){if(4>a.length)return pa(a);for(var b,c=[],d=-1,e=a.length,f=[0],k=[0];3>++d;)b=a[d],f.push(b[0]),k.push(b[1]);
c.push(ua(Ua,f)+","+ua(Ua,k));for(--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),k.shift(),k.push(b[1]),Dd(c,f,k);return c.join("")},"basis-closed":function(a){for(var b,c,d=-1,e=a.length,f=e+4,k=[],l=[];4>++d;)c=a[d%e],k.push(c[0]),l.push(c[1]);b=[ua(Ua,k),",",ua(Ua,l)];for(--d;++d<f;)c=a[d%e],k.shift(),k.push(c[0]),l.shift(),l.push(c[1]),Dd(b,k,l);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],k=a[0][1],l=a[c][0]-f,g=a[c][1]-k,h=-1;++h<=c;)d=a[h],e=h/c,d[0]=b*d[0]+
(1-b)*(f+e*l),d[1]=b*d[1]+(1-b)*(k+e*g);return Vf(a)},cardinal:function(a,b){return 3>a.length?pa(a):a[0]+jc(a,Cd(a,b))},"cardinal-open":function(a,b){return 4>a.length?pa(a):a[1]+jc(a.slice(1,-1),Cd(a,b))},"cardinal-closed":function(a,b){return 3>a.length?pa(a):a[0]+jc((a.push(a[0]),a),Cd([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=pa(a);else{var b=a[0],c,d,e,f,k=[],l;c=0;l=a.length-1;for(var g=[],h=a[1],n=g[0]=Ed(a[0],h);++c<l;)g[c]=(n+(n=Ed(h,h=a[c+1])))/2;l=(g[c]=
n,g);g=-1;for(h=a.length-1;++g<h;)c=Ed(a[g],a[g+1]),H(c)<B?l[g]=l[g+1]=0:(d=l[g]/c,e=l[g+1]/c,f=d*d+e*e,9<f&&(f=3*c/Math.sqrt(f),l[g]=f*d,l[g+1]=f*e));for(g=-1;++g<=h;)f=(a[Math.min(h,g+1)][0]-a[Math.max(0,g-1)][0])/(6*(1+l[g]*l[g])),k.push([f||0,l[g]*f||0]);a=b+jc(a,k)}return a}});zd.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Wf=[0,2/3,1/3,0],Xf=[0,1/3,2/3,0],Ua=[0,1/6,2/3,1/6];n.svg.line.radial=function(){var a=Uf(Yf);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};
Ad.reverse=Bd;Bd.reverse=Ad;n.svg.area=function(){return Zf(u)};n.svg.area.radial=function(){var a=Zf(Yf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};n.svg.chord=function(){function a(a,f){var k=b(this,d,a,f),l=b(this,e,a,f);return"M"+k.p0+c(k.r,k.p1,k.a1-k.a0)+(k.a0==l.a0&&k.a1==l.a1?"Q 0,0 "+k.p0:"Q 0,0 "+l.p0+c(l.r,l.p1,l.a1-l.a0)+("Q 0,0 "+k.p0))+"Z"}function b(a,
b,c,d){var e=b.call(a,c,d);b=f.call(a,e,d);c=k.call(a,e,d)-aa;a=l.call(a,e,d)-aa;return{r:b,a0:c,a1:a,p0:[b*Math.cos(c),b*Math.sin(c)],p1:[b*Math.cos(a),b*Math.sin(a)]}}function c(a,b,c){return"A"+a+","+a+" 0 "+ +(c>L)+",1 "+b}var d=ed,e=fd,f=gi,k=Sf,l=Tf;return a.radius=function(b){return arguments.length?(f=W(b),a):f},a.source=function(b){return arguments.length?(d=W(b),a):d},a.target=function(b){return arguments.length?(e=W(b),a):e},a.startAngle=function(b){return arguments.length?(k=W(b),a):k},
a.endAngle=function(b){return arguments.length?(l=W(b),a):l},a};n.svg.diagonal=function(){function a(a,f){var k=b.call(this,a,f),l=c.call(this,a,f),g=(k.y+l.y)/2,k=[k,{x:k.x,y:g},{x:l.x,y:g},l];return k=k.map(d),"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var b=ed,c=fd,d=$f;return a.source=function(c){return arguments.length?(b=W(c),a):b},a.target=function(b){return arguments.length?(c=W(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a};n.svg.diagonal.radial=function(){var a=n.svg.diagonal(),
b=$f,c=a.projection;return a.projection=function(a){return arguments.length?c(hi(b=a)):b},a};n.svg.symbol=function(){function a(a,e){return(pg.get(b.call(this,a,e))||ag)(c.call(this,a,e))}var b=ji,c=ii;return a.type=function(c){return arguments.length?(b=W(c),a):b},a.size=function(b){return arguments.length?(c=W(b),a):c},a};var pg=n.map({circle:ag,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=
Math.sqrt(a/(2*qg));var b=a*qg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Cc);var b=a*Cc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Cc);var b=a*Cc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});n.svg.symbolTypes=pg.keys();var Cc=Math.sqrt(3),qg=Math.tan(30*G);U.transition=function(a){for(var b,c=eb||++rg,d=Gd(a),
e=[],f=Dc||{time:Date.now(),ease:uh,delay:0,duration:250},k=-1,l=this.length;++k<l;){e.push(a=[]);for(var g=this[k],h=-1,n=g.length;++h<n;)(b=g[h])&&kc(b,h,d,c,f),a.push(b)}return Db(e,d,c)};U.interrupt=function(a){return this.each(null==a?oc:bg(Gd(a)))};var eb,Dc,oc=bg(Gd()),ea=[],rg=0;ea.call=U.call;ea.empty=U.empty;ea.node=U.node;ea.size=U.size;n.transition=function(a,b){return a&&a.transition?eb?a.transition(b):a:n.selection().transition(a)};n.transition.prototype=ea;ea.select=function(a){var b,
c,d,e=this.id,f=this.namespace,k=[];a=Fc(a);for(var l=-1,g=this.length;++l<g;){k.push(b=[]);for(var h=this[l],n=-1,m=h.length;++n<m;)(d=h[n])&&(c=a.call(d,d.__data__,n,l))?("__data__"in d&&(c.__data__=d.__data__),kc(c,n,f,e,d[f][e]),b.push(c)):b.push(null)}return Db(k,f,e)};ea.selectAll=function(a){var b,c,d,e,f=this.id,k=this.namespace,l=[];a=Td(a);for(var g=-1,h=this.length;++g<h;)for(var n=this[g],m=-1,p=n.length;++m<p;)if(b=n[m]){e=b[k][f];c=a.call(b,b.__data__,m,g);l.push(b=[]);for(var r=-1,
u=c.length;++r<u;)(d=c[r])&&kc(d,r,k,f,e),b.push(d)}return Db(l,k,f)};ea.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=ae(a));for(var f=0,k=this.length;k>f;f++){e.push(b=[]);c=this[f];for(var l=0,g=c.length;g>l;l++)(d=c[l])&&a.call(d,d.__data__,l,f)&&b.push(d)}return Db(e,this.namespace,this.id)};ea.tween=function(a,b){var c=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][c].tween.get(a):Ea(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,
b)})};ea.attr=function(a,b){function c(){this.removeAttribute(l)}function d(){this.removeAttributeNS(l.space,l.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(l);return c!==a&&(b=k(c,a),function(a){this.setAttribute(l,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(l.space,l.local);return c!==a&&(b=k(c,a),function(a){this.setAttributeNS(l.space,l.local,b(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var k=
"transform"==a?vf:cb,l=n.ns.qualify(a);return Fd(this,"attr."+a,b,l.local?f:e)};ea.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=n.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};ea.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;
if(3>e){if("string"!=typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Fd(this,"style."+a,b,function(b){return null==b?d:(b+="",function(){var d,e=O(this).getComputedStyle(this,null).getPropertyValue(a);return e!==b&&(d=cb(e,b),function(b){this.style.setProperty(a,d(b),c)})})})};ea.styleTween=function(a,b,c){return 3>arguments.length&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,O(this).getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,
f(b),c)}})};ea.text=function(a){return Fd(this,"text",a,ki)};ea.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};ea.ease=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].ease:("function"!=typeof a&&(a=n.ease.apply(n,arguments)),Ea(this,function(d){d[c][b].ease=a}))};ea.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:
Ea(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))};ea.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:Ea(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};ea.each=function(a,b){var c=this.id,d=this.namespace;if(2>arguments.length){var e=Dc,f=eb;try{eb=c,Ea(this,function(b,
e,f){Dc=b[d][c];a.call(b,b.__data__,e,f)})}finally{Dc=e,eb=f}}else Ea(this,function(e){e=e[d][c];(e.event||(e.event=n.dispatch("start","end","interrupt"))).on(a,b)});return this};ea.transition=function(){for(var a,b,c,d,e=this.id,f=++rg,k=this.namespace,g=[],h=0,n=this.length;n>h;h++){g.push(a=[]);b=this[h];for(var m=0,p=b.length;p>m;m++)(c=b[m])&&(d=c[k][e],kc(c,m,k,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Db(g,k,f)};n.svg.axis=function(){function a(a){a.each(function(){var a,
m=n.select(this),p=this.__chart__||c,q=this.__chart__=c.copy(),r=null==h?q.ticks?q.ticks.apply(q,g):q.domain():h,x=null==b?q.tickFormat?q.tickFormat.apply(q,g):u:b,E=m.selectAll(".tick").data(r,q),r=E.enter().insert("g",".domain").attr("class","tick").style("opacity",B),z=n.transition(E.exit()).style("opacity",B).remove(),A=n.transition(E.order()).style("opacity",1),C=Math.max(e,0)+k,M=dc(q),m=m.selectAll(".domain").data([0]),m=(m.enter().append("path").attr("class","domain"),n.transition(m));r.append("line");
r.append("text");var D,w,R,K,G=r.select("line"),L=A.select("line"),x=E.select("text").text(x),E=r.select("text"),H=A.select("text"),ha="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=li,D="x",R="y",w="x2",K="y2",x.attr("dy",0>ha?"0em":".71em").style("text-anchor","middle"),m.attr("d","M"+M[0]+","+ha*f+"V0H"+M[1]+"V"+ha*f)):(a=mi,D="y",R="x",w="y2",K="x2",x.attr("dy",".32em").style("text-anchor",0>ha?"end":"start"),m.attr("d","M"+ha*f+","+M[0]+"H0V"+M[1]+"H"+ha*f)),G.attr(K,ha*e),E.attr(R,
ha*C),L.attr(w,0).attr(K,ha*e),H.attr(D,0).attr(R,ha*C),q.rangeBand)var T=q,ma=T.rangeBand()/2,p=q=function(a){return T(a)+ma};else p.rangeBand?p=q:z.call(a,q,p);r.call(a,p,q);A.call(a,q,q)})}var b,c=n.scale.linear(),d=sg,e=6,f=6,k=3,g=[10],h=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Ji?b+"":sg,a):d},a.ticks=function(){return arguments.length?(g=arguments,a):g},a.tickValues=function(b){return arguments.length?(h=b,a):h},
a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(k=+b,a):k},a.tickSubdivide=function(){return arguments.length&&a},a};var sg="bottom",Ji={top:1,right:1,bottom:1,left:1};n.svg.brush=function(){function a(f){f.each(function(){var f=
n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),k=f.selectAll(".background").data([0]);k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var g=f.selectAll(".resize").data(B,u);g.exit().remove();g.enter().append("g").attr("class",function(a){return"resize "+
a}).style("cursor",function(a){return Ki[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");g.style("display",a.empty()?"none":null);var l,f=n.transition(f),k=n.transition(k);h&&(l=dc(h),k.attr("x",l[0]).attr("width",l[1]-l[0]),c(f));m&&(l=dc(m),k.attr("y",l[0]).attr("height",l[1]-l[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+
p[+/e$/.test(a)]+","+r[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",p[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",p[1]-p[0])}function d(a){a.select(".extent").attr("y",r[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1]-r[0])}function e(){function e(){var a=n.mouse(B),f=!1;C&&(a[0]+=C[0],a[1]+=C[1]);L||(n.event.altKey?(A||(A=[(p[0]+p[1])/2,(r[0]+r[1])/2]),H[0]=p[+(a[0]<A[0])],H[1]=r[+(a[1]<A[1])]):A=null);K&&u(a,h,0)&&(c(R),f=!0);G&&u(a,m,1)&&(d(R),f=!0);
f&&(b(R),D({type:"brush",mode:L?"move":"resize"}))}function u(a,b,c){var d,e,g=dc(b);b=g[0];var g=g[1],l=H[c],h=c?r:p,n=h[1]-h[0];return L&&(b-=l,g-=n+l),d=(c?E:x)?Math.max(b,Math.min(g,a[c])):a[c],L?e=(d+=l)+n:(A&&(l=Math.max(b,Math.min(g,2*A[c]-d))),d>l?(e=d,d=l):e=l),h[0]!=d||h[1]!=e?(c?k=null:f=null,h[0]=d,h[1]=e,!0):void 0}function z(){e();R.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);n.select("body").style("cursor",null);T.on("mousemove.brush",null).on("mouseup.brush",
null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ha();D({type:"brushend"})}var A,C,B=this,M=n.select(n.event.target),D=g.of(B,arguments),R=n.select(B),w=M.datum(),K=!/^(n|s)$/.test(w)&&h,G=!/^(e|w)$/.test(w)&&m,L=M.classed("extent"),ha=Fb(B),H=n.mouse(B),T=n.select(O(B)).on("keydown.brush",function(){32==n.event.keyCode&&(L||(A=null,H[0]-=p[1],H[1]-=r[1],L=2),Ma())}).on("keyup.brush",function(){32==n.event.keyCode&&2==L&&(H[0]+=p[1],H[1]+=
r[1],L=0,Ma())});if(n.event.changedTouches?T.on("touchmove.brush",e).on("touchend.brush",z):T.on("mousemove.brush",e).on("mouseup.brush",z),R.interrupt().selectAll("*").interrupt(),L)H[0]=p[0]-H[0],H[1]=r[0]-H[1];else if(w){var ma=+/w$/.test(w),w=+/^n/.test(w);C=[p[1-ma]-H[0],r[1-w]-H[1]];H[0]=p[ma];H[1]=r[w]}else n.event.altKey&&(A=H.slice());R.style("pointer-events","none").selectAll(".resize").style("display",null);n.select("body").style("cursor",M.style("cursor"));D({type:"brushstart"});e()}var f,
k,g=ha(a,"brushstart","brush","brushend"),h=null,m=null,p=[0,0],r=[0,0],x=!0,E=!0,B=Od[0];return a.event=function(a){a.each(function(){var a=g.of(this,arguments),b={x:p,y:r,i:f,j:k},c=this.__chart__||b;this.__chart__=b;eb?n.select(this).transition().each("start.brush",function(){f=c.i;k=c.j;p=c.x;r=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=cc(p,b.x),d=cc(r,b.y);return f=k=null,function(e){p=b.x=c(e);r=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){f=
b.i;k=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(h=b,B=Od[!h<<1|!m],a):h},a.y=function(b){return arguments.length?(m=b,B=Od[!h<<1|!m],a):m},a.clamp=function(b){return arguments.length?(h&&m?(x=!!b[0],E=!!b[1]):h?x=!!b:m&&(E=!!b),a):h&&m?[x,E]:h?x:m?E:null},a.extent=function(b){var c,d,e,g,l;return arguments.length?(h&&(c=b[0],d=b[1],m&&(c=c[0],d=d[0]),f=[c,d],h.invert&&
(c=h(c),d=h(d)),c>d&&(l=c,c=d,d=l),(c!=p[0]||d!=p[1])&&(p=[c,d])),m&&(e=b[0],g=b[1],h&&(e=e[1],g=g[1]),k=[e,g],m.invert&&(e=m(e),g=m(g)),e>g&&(l=e,e=g,g=l),(e!=r[0]||g!=r[1])&&(r=[e,g])),a):(h&&(f?(c=f[0],d=f[1]):(c=p[0],d=p[1],h.invert&&(c=h.invert(c),d=h.invert(d)),c>d&&(l=c,c=d,d=l))),m&&(k?(e=k[0],g=k[1]):(e=r[0],g=r[1],m.invert&&(e=m.invert(e),g=m.invert(g)),e>g&&(l=e,e=g,g=l))),h&&m?[[c,e],[d,g]]:h?[c,d]:m&&[e,g])},a.clear=function(){return a.empty()||(p=[0,0],r=[0,0],f=k=null),a},a.empty=function(){return!!h&&
p[0]==p[1]||!!m&&r[0]==r[1]},n.rebind(a,g,"on")};var Ki={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Od=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Pd=D.format=gg.timeFormat,tg=Pd.utc,ug=tg("%Y-%m-%dT%H:%M:%S.%LZ");Pd.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Hd:ug;Hd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Hd.toString=ug.toString;D.second=Ya(function(a){return new ga(1E3*
Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});D.seconds=D.second.range;D.seconds.utc=D.second.utc.range;D.minute=Ya(function(a){return new ga(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});D.minutes=D.minute.range;D.minutes.utc=D.minute.utc.range;D.hour=Ya(function(a){var b=a.getTimezoneOffset()/60;return new ga(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+
36E5*Math.floor(b))},function(a){return a.getHours()});D.hours=D.hour.range;D.hours.utc=D.hour.utc.range;D.month=Ya(function(a){return a=D.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});D.months=D.month.range;D.months.utc=D.month.utc.range;var lc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Qd=[[D.second,1],[D.second,5],[D.second,15],[D.second,30],[D.minute,1],[D.minute,5],[D.minute,15],[D.minute,
30],[D.hour,1],[D.hour,3],[D.hour,6],[D.hour,12],[D.day,1],[D.day,2],[D.week,1],[D.month,1],[D.month,3],[D.year,1]],Li=Pd.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",ib]]),ni={range:function(a,b,c){return n.range(Math.ceil(a/
c)*c,+b,c).map(db)},floor:u,ceil:u};Qd.year=D.year;D.scale=function(){return Id(n.scale.linear(),Qd,Li)};var vg=Qd.map(function(a){return[a[0].utc,a[1]]}),Mi=tg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],
["%Y",ib]]);vg.year=D.year.utc;D.scale.utc=function(){return Id(n.scale.linear(),vg,Mi)};n.text=Uc(function(a){return a.responseText});n.json=function(a,b){return Ib(a,"application/json",oi,b)};n.html=function(a,b){return Ib(a,"text/html",pi,b)};n.xml=Uc(function(a){return a.responseXML});"function"==typeof define&&define.amd?define(n):"object"==typeof module&&module.exports&&(module.exports=n);this.d3=n}();
(function(){function O(I,X,w){function S(da){da=I(da);var S=da<w,Q=d3.extent(I.range()),T=Q[0],Q=Q[1],fa=S?w-T:Q-w;0==fa&&(fa=Q-T);return(S?-1:1)*fa*(X+1)/(X+fa/Math.abs(da-w))+w}S.distortion=function(w){if(!arguments.length)return X;X=+w;return S};S.focus=function(I){if(!arguments.length)return w;w=+I;return S};S.copy=function(){return O(I.copy(),X,w)};S.nice=I.nice;S.ticks=I.ticks;S.tickFormat=I.tickFormat;return d3.rebind(S,I,"domain","range")}d3.fisheye={scale:function(I){return O(I(),3,0)},circular:function(){function I(T){var I=
T.x-Q[0],S=T.y-Q[1],h=Math.sqrt(I*I+S*S);if(!h||h>=w)return{x:T.x,y:T.y,z:h>=w?1:10};T=O*(1-Math.exp(-h*qa))/h*.75+.25;return{x:Q[0]+I*T,y:Q[1]+S*T,z:Math.min(T,10)}}function X(){O=Math.exp(S);O=O/(O-1)*w;qa=S/w;return I}var w=200,S=2,O,qa,Q=[0,0];I.radius=function(T){if(!arguments.length)return w;w=+T;return X()};I.distortion=function(w){if(!arguments.length)return S;S=+w;return X()};I.focus=function(w){if(!arguments.length)return Q;Q=w;return I};return X()}}})();
(function(){var O=d3.svg.symbol(),I=d3.svg.line();d3.superformula=function(){function w(w,O){var ra,h=X[S.call(this,w,O)];for(ra in Q)h[ra]=Q[ra].call(this,w,O);ra=qa.call(this,w,O);for(var m=Math.sqrt(da.call(this,w,O)),g=-1,p=2*Math.PI/ra,r,u=0,x=[];++g<ra;)r=h.m*(g*p-Math.PI)/4,r=Math.pow(Math.abs(Math.pow(Math.abs(Math.cos(r)/h.a),h.n2)+Math.pow(Math.abs(Math.sin(r)/h.b),h.n3)),-1/h.n1),r>u&&(u=r),x.push(r);u=m*Math.SQRT1_2/u;for(g=-1;++g<ra;)h=(r=x[g]*u)*Math.cos(g*p),r*=Math.sin(g*p),x[g]=[1E-6>
Math.abs(h)?0:h,1E-6>Math.abs(r)?0:r];return I(x)+"Z"}var S=O.type(),da=O.size(),qa=da,Q={};w.type=function(I){if(!arguments.length)return S;S=d3.functor(I);return w};w.param=function(I,O){if(2>arguments.length)return Q[I];Q[I]=d3.functor(O);return w};w.size=function(I){if(!arguments.length)return da;da=d3.functor(I);return w};w.segments=function(I){if(!arguments.length)return qa;qa=d3.functor(I);return w};return w};var X={asterisk:{m:12,n1:.3,n2:0,n3:10,a:1,b:1},bean:{m:2,n1:1,n2:4,n3:8,a:1,b:1},
butterfly:{m:3,n1:1,n2:6,n3:2,a:.6,b:1},circle:{m:4,n1:2,n2:2,n3:2,a:1,b:1},clover:{m:6,n1:.3,n2:0,n3:10,a:1,b:1},cloverFour:{m:8,n1:10,n2:-1,n3:-8,a:1,b:1},cross:{m:7.925,n1:1.662,n2:1.025,n3:3.65,a:-4.225,b:-.9625},diamond:{m:4,n1:1,n2:1,n3:1,a:1,b:1},drop:{m:1,n1:.5,n2:.5,n3:.5,a:1,b:1},ellipse:{m:4,n1:2,n2:2,n3:2,a:9,b:6},gear:{m:19,n1:100,n2:50,n3:50,a:1,b:1},heart:{m:1,n1:.8,n2:1,n3:-8,a:1,b:.18},heptagon:{m:7,n1:1E3,n2:400,n3:400,a:1,b:1},hexagon:{m:6,n1:1E3,n2:400,n3:400,a:1,b:1},malteseCross:{m:8,
n1:.9,n2:.1,n3:100,a:1,b:1},pentagon:{m:5,n1:1E3,n2:600,n3:600,a:1,b:1},rectangle:{m:4,n1:100,n2:100,n3:100,a:2,b:1},roundedStar:{m:5,n1:2,n2:7,n3:7,a:1,b:1},square:{m:4,n1:100,n2:100,n3:100,a:1,b:1},star:{m:5,n1:30,n2:100,n3:100,a:1,b:1},triangle:{m:3,n1:100,n2:200,n3:200,a:1,b:1}};d3.superformulaTypes=d3.keys(X)})();
var bind=function(O,I){var X=[].slice;"string"==typeof I&&(I=O[I]);if("function"!=typeof I)throw Error("bind() requires a function");var w=[].slice.call(arguments,2);return function(){return I.apply(O,w.concat(X.call(arguments)))}},setTransMatirx=function(O,I){return element.transform.baseVal.initialize(element.ownerSVGElement.createSVGTransformFromMatrix(I))},NLGraph=function(O,I,X,w){function S(h){var m=[0],g=[.4,-.4];if(1==h)return m;if(2==h)return g;if(0==h%2){for(m=1;m<h/2;++m)g.push.apply(g,
[.4*(m+1),.4*-(m+1)]);return g}for(g=1;g<Math.ceil(h/2);++g)m.push.apply(m,[.4*g,.4*-g]);return m}function da(h,m,g){var p=[];h=0!=g%2?h-Math.floor(g/2)*m:-(h+(g/2-1)*m);for(var r=0;r<g;++r)p.push(h+r*m);return p}function qa(h,m,g){for(var p=m+h,r=[],u=0;u<g;++u)r.push(0==u%2?-(u/2*m+Math.abs(h)):Math.floor(u/2)*m+p);return r}function Q(h,m){return d3.superformula().type(h).size(m)()}function T(h,m,g){for(var p=h.datum(),r=0;r<m.length;++r)for(var u=m[r].split(/\s+/).reverse(),x,w=[],E=0,K=h.append("text").attr("multline",
"attr_"+r+"-"+E++).append("textPath").attr("text-anchor","middle").attr("startOffset","50%").attr("xlink:href","#link_"+p.source.id+"-"+p.source.type+"_"+p.target.id+"-"+p.target.type+"_"+p.etype).text(null);x=u.pop();)w.push(x),K.text(w.join(" ")),K.node().getComputedTextLength()>g&&(w.pop(),K.text(w.join(" ")),w=[x],K=h.append("text").attr("multline","attr_"+r+"-"+E++).attr("text-anchor","middle").append("textPath").attr("startOffset","50%").attr("xlink:href","#link_"+p.source.id+"-"+p.source.type+
"_"+p.target.id+"-"+p.target.type+"_"+p.etype).text(x))}function fa(h,m,g,p,r){var u=Math.PI/180*r;r=Math.cos(u);u=Math.sin(u);return[r*(g-h)-u*(p-m)+h,u*(g-h)+r*(p-m)+m]}this.defaults_={width:1E3,height:800,force:{linkStrength:1,friction:.9,linkDistance:100,charge:-240,gravity:.05,theta:.9,coolingAlpha:.5,collisionAlpha:.9},initialScale:1,brushingStatus:!1,zoomLens:!0,highlightColor:"#ff0000",zoomScaleExtent:[.2,10],tooltipTemplate:"<div>text: {{text}}</div> <div>size: {{size}}</div>"};this.container_=
O;this.opts_={};w=w||{};this.opts_.width=w.width||this.defaults_.width;this.opts_.height=w.height||this.defaults_.height;this.opts_.color=d3.scale.category20();this.opts_.colors=w.colors||{};this.opts_.highlightColor=w.highlightColor||this.defaults_.highlightColor;this.opts_.initialScale=w.initialScale||this.defaults_.initialScale;this.opts_.zoomScaleExtent=w.zoomScaleExtent||this.defaults_.zoomScaleExtent;this.opts_.zoomLens=w.zoomLens||this.defaults_.zoomLens;this.opts_.tooltipTmpl=w.tooltipTemplate||
this.defaults_.tooltipTemplate;this.opts_.force={};this.opts_.force.linkStrength=w.force_linkStrength||this.defaults_.force.linkStrength;this.opts_.force.friction=w.force_friction||this.defaults_.force.friction;this.opts_.force.linkDistance=w.force_linkDistance||this.defaults_.force.linkDistance;this.opts_.force.charge=w.force_charge||this.defaults_.force.charge;this.opts_.force.gravity=w.force_gravity||this.defaults_.force.gravity;this.opts_.force.theta=w.force_theta||this.defaults_.force.theta;
this.opts_.force.coolingAlpha=w.force_coolingAlpha||this.defaults_.force.coolingAlpha;this.opts_.force.collisionAlpha=w.force_collisionAlpha||this.defaults_.force.collisionAlpha;this.opts_.brushingStatus=w.brushing||this.defaults_.brushingStatus;this.nodes=I;this.links=X;this.normal_text_size=6;this.highlight_node=this.mouse_click_node=null;this.nodeRadiusScale=d3.scale.sqrt().range(NLGraph.NODE_RADIUS_RANGE);var ra=d3.svg.line().interpolate("monotone").x(function(h){return h[0]}).y(function(h){return h[1]});
this.shiftKey=null;this.init_=function(){var h=this,m=this.getContainer_();m.html("");this.initZoom_();this.fisheye=d3.fisheye.circular().radius(100);this.trueZoomLens=function(){d3.event.stopPropagation();h.fisheye.focus(d3.mouse(this));h.vertices.each(function(g){g.fisheye=h.fisheye(g)}).attr("transform",function(g){return"translate("+g.fisheye.x+","+g.fisheye.y+") scale("+g.fisheye.z+")"});h.linkDrawing_()};var g=(this.opts_.width-this.opts_.initialScale*this.opts_.width)/2,p=(this.opts_.height-
this.opts_.initialScale*this.opts_.height)/2;this.trueZoom_=this.zoomL.on("zoom",bind(this,this.refreshZoom_));this.nullZoom_=d3.behavior.zoom().on("zoom",null);m=m.append("svg").attr("viewBox","0 0 "+this.opts_.width+" "+this.opts_.height).attr("class",NLGraph.BASE_CONTAINER_CLASS).attr("preserveAspectRatio","xMinYMin meet");this.parent=m.append("g");this.mouseEvtTargetRect=this.parent.append("rect").attr("width",this.opts_.width).attr("height",this.opts_.height).style("fill","none").style("pointer-events",
"all");this.opts_.brushingStatus?(m.call(this.nullZoom_),this.brush_=this.parent.append("g").datum(function(){return{selected:!1,previouslySelected:!1}}).attr("class","brush").call(this.multiSelect)):(m.call(this.trueZoom_),d3.select(".brush").remove());if(this.opts_.zoomLens)this.parent.on("mousemove",this.trueZoomLens);this.root_=m;this.zoomL.translate([g,p]).scale(this.opts_.initialScale||1);this.readData_(this.nodes,this.links)};this.mulSelectMode=function(h){this.opts_.brushingStatus=Boolean(h);
return this};this.zoomLensMode=function(h){this.opts_.zoomLens=Boolean(h);return this};this.toggleBrushing=function(){this.opts_.brushingStatus?(this.opts_.brushingStatus=!1,this.root_.call(this.trueZoom_),d3.select(".brush").remove()):(this.opts_.brushingStatus=!0,this.root_.call(this.nullZoom_),this.brush_=this.parent.append("g").datum(function(){return{selected:!1,previouslySelected:!1}}).attr("class","brush").call(this.multiSelect));return this};this.toggleZoomLens=function(){this.opts_.zoomLens?
(this.opts_.zoomLens=!1,this.vertices.each(function(h){h.fisheye=!1}),this.parent.on("mousemove",null)):(this.opts_.zoomLens=!0,this.parent.on("mousemove",this.trueZoomLens));return this};this.getMultiSelectedNodes=function(){if(this.mulSelMode){var h=[],m=d3.event.target.extent();this.vertices.each(function(g){var p=g.previouslySelected^(m[0][0]<=g.x&&g.x<m[1][0]&&m[0][1]<=g.y&&g.y<m[1][1]);(g.selected=p)&&h.push(g)});return h}return[]};this.getMultiSelectedLinks=function(){if(this.mulSelMode){var h=
[],m=d3.event.target.extent();this.edges.each(function(g){var p=g.previouslySelected^(m[0][0]<=g.srcOuterRadius[0]&&g.srcOuterRadius[0]<m[1][0]&&m[0][1]<=g.srcOuterRadius[1]&&g.srcOuterRadius[1]<m[1][1]&&m[0][0]<=g.tgtOuterRadius[0]&&g.tgtOuterRadius[0]<m[1][0]&&m[0][1]<=g.tgtOuterRadius[1]&&g.tgtOuterRadius[1]<m[1][1]);(g.selected=p)&&h.push(g)});return h}return[]};this.center_=function(h){h||((h=this.state.focused)?h=[h.x,h.y]:(this.massCenter||this.computeCenterCoords_(),h=this.massCenter));this.translateTo([this.opts_.width/
2,this.opts_.height/2],h)};this.center=function(h,m){if(!this.isRendered())return this;var g=this.getNodeByKey(h,m);g?this.center_([g.x,g.y]):this.center_();this.refreshZoom_(!0);return this};this.computeCenterCoords_=function(){var h=0,m=0,g=0;this.vertices.select(".shape").each(function(p){var r=p.shapeSize;h+=p.x*r;m+=p.y*r;g+=r});this.xCenter=h/g;this.yCenter=m/g;return this.massCenter=[this.xCenter,this.yCenter]};this.initZoom_=function(){var h=this,m=d3.scale.linear().domain([0,this.opts_.width]).range([0,
this.opts_.width]),g=d3.scale.linear().domain([0,this.opts_.height]).range([0,this.opts_.height]);this.zoomL=d3.behavior.zoom().x(m).y(g);this.opts_.initialScale&&(this.zoomL=this.zoomL.scale(this.opts_.initialScale));this.multiSelect=d3.svg.brush().x(d3.scale.identity().domain([0,this.opts_.width])).y(d3.scale.identity().domain([0,this.opts_.height])).on("brushstart",function(g){h.vertices.each(function(g){g.previouslySelected=h.shiftKey&&g.selected});h.edges.each(function(g){g.previouslySelected=
h.shiftKey&&g.selected});h.mulSelMode=!0}).on("brush",function(){var g=d3.event.target.extent();h.vertices.select(".shape").classed("selected",function(h){return h.selected=h.previouslySelected^(g[0][0]<=h.x&&h.x<g[1][0]&&g[0][1]<=h.y&&h.y<g[1][1])});h.edges.classed("selected",function(m){var u=m.previouslySelected^(g[0][0]<=m.srcOuterRadius[0]&&m.srcOuterRadius[0]<g[1][0]&&g[0][1]<=m.srcOuterRadius[1]&&m.srcOuterRadius[1]<g[1][1]&&g[0][0]<=m.tgtOuterRadius[0]&&m.tgtOuterRadius[0]<g[1][0]&&g[0][1]<=
m.tgtOuterRadius[1]&&m.tgtOuterRadius[1]<g[1][1]);if(u){var x="arrow_s"+m.source.id+"-"+m.source.type+"_"+m.target.id+"-"+m.target.type+"_"+m.etype;d3.select("#"+("arrow_e"+m.source.id+"-"+m.source.type+"_"+m.target.id+"-"+m.target.type+"_"+m.etype)).select("path").style("fill",h.opts_.highlightColor);d3.select("#"+x).select("path").style("fill",h.opts_.highlightColor)}return m.selected=u})}).on("brushend",function(){d3.event.target.clear();d3.select(this).call(d3.event.target);h.mulSelMode=!1})};
this.readData_=function(h,m){var g=this,p={},r={},u={},x={},w={},E={},K=0;h.forEach(function(g){var h;h=g.style.size;var m=d3.scale.pow().exponent(1).domain([1,100]).range([8,24]);h=Math.PI*Math.pow(m(h)||NLGraph.NORMAL_BASE_NODE_SIZE,2);g.shapeSize=h;g.radius=Math.sqrt(g.shapeSize/Math.PI)+2});h.forEach(function(h){K=Math.max(K,+h.radius);var m=g.getCluster(h);p[h.id+"-"+h.type]=p[h.id+"-"+h.type]||h;null!=m&&null==u[m]&&(h=g.opts_.colors[m],u[m]={},u[m].color=h||g.opts_.color(m))});m.forEach(function(g){var h=
g.source,m=g.target,h=h.id+"-"+h.type,m=m.id+"-"+m.type,u=p[h],K=p[m];r[h+"_"+m+"_"+g.etype]=r[h+"_"+m+"_"+g.etype]||g;E[h+"_"+m]=!0;u&&K&&(h in w||(w[h]={}),m in x||(x[m]={}),w[h][m]=!0,x[m][h]=!0,g.source=u,g.target=K)});var I=m.map(function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type}).reduce(function(g,h){var m=h.split("_").reverse().join("_"),m=g.hasOwnProperty(h)?h:m;g.hasOwnProperty(m)?g[m]+=1:g[m]=1;return g},{}),O={};Object.keys(I).forEach(function(g){O[g]=I[g]});
m.forEach(function(g){var h=g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type,m=g.target.id+"-"+g.target.type+"_"+g.source.id+"-"+g.source.type,h=O.hasOwnProperty(h)?h:m;g.linkIndex=--O[h];g.totalNoLinks=I[h]});this.nodes=h;this.links=m;this.incomingNodes=x;this.outgoingNodes=w;this.nodesObj=p;this.linksObj=r;this.clustersObj=u;this.connectedDict=E;this.multiLinksTotalNumDict=I;this.maxNodeSize=K;this.nodeRadiusScale.domain([1,K])};this.addNode=function(h,m,g,p,r){for(var u=!1,x=0;x<
this.nodes.length;++x)if(this.nodes[x].id==h&&this.nodes[x].type==m){u=!0;break}if(u)return this;this.nodes.push({id:h,type:m,attr:g,style:{size:p.size||100,shape:p.shape||"square",fill:p.fill||"#ff5500",stroke:p.stroke||"#ccc",strokeWidth:p.strokeWidth||1,dashed:p.dashed||!0,opacity:p.opacity||1}});for(h=0;h<r.length;++h)m=r[h],this.links.push({source:{id:m.source.id,type:m.source.type},target:{id:m.target.id,type:m.target.type},etype:m.etype,attr:m.attr,style:{stroke:m.style.stroke||"#ccc",strokeWidth:m.style.strokeWidth||
1,dashed:m.style.dashed||!0,opacity:m.style.opacity||1},directed:m.directed||!1});this.readData_(this.nodes,this.links);this.updateGraph_();return this};this.removeNode=function(h,m){var g=this.nodes.map(function(g){return g.id+"-"+g.type}).indexOf(h+"-"+m);if(-1==g)return this;this.nodes.splice(g,1);for(g=0;g<this.links.length;++g){var p=this.links[g];(p.source.id==h&&p.source.type==m||p.target.id==h&&p.target.type==m)&&this.links.splice(g,1)}this.readData_(this.nodes,this.links);this.updateGraph_();
return this};this.addEdge=function(h,m,g,p,r,u,x,w){for(var E=!1,K=0;K<this.links.length;++K)if(this.links[K].source.id==h&&this.links[K].source.type==m&&this.links[K].target.id==g&&this.links[K].target.type==p&&this.links[K].etype==r){E=!0;break}if(E)return this;this.links.push({source:{id:h,type:m},target:{id:g,type:p},etype:r,attr:u,style:{stroke:x.stroke||"#ccc",strokeWidth:x.strokeWidth||1,dashed:x.dashed||!0,opacity:x.opacity||1},directed:w||!1});this.readData_(this.nodes,this.links);this.updateGraph_();
return this};this.removeEdge=function(h,m,g,p,r){h=this.links.map(function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype}).indexOf(h+"-"+m+"_"+g+"-"+p+"_"+r);if(-1==h)return this;this.links.splice(h,1);this.readData_(this.nodes,this.links);this.updateGraph_();return this};this.autofit=function(){if(0===this.nodes.length)return this;var h=d3.min(this.nodes.map(function(g){return g.x})),m=d3.min(this.nodes.map(function(g){return g.y})),g=d3.max(this.nodes.map(function(g){return g.x})),
p=d3.max(this.nodes.map(function(g){return g.y})),g=g-h,r=p-m,p=.8*Math.min(this.opts_.width/g,this.opts_.height/r),h=-h*p+(this.opts_.width-g*p)/2,m=-m*p+(this.opts_.height-r*p)/2;this.parent.transition().duration(500).attr("transform","translate("+[h,m]+") scale("+p+")");this.zoomL.translate([h,m]).scale(p);return this};this.setLayout=function(h,m){var g=this;if(h)return function(){return g.apply(h,g.nodes,m)}};this.applyLayout=function(h,m){for(var g=Date.now(),p=0,r=!1;!r||0<=p;)p=h(),r=p.converged,
this.nodes=p.nodes,p=m-(Date.now()-g|0);this.arrowhead_end=this.arrowhead_end.data(this.links,function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.arrowhead_start=this.arrowhead_start.data(this.links,function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.edges=this.edges.data(this.links,function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.edgeLabel=this.edgeLabel.data(this.links,
function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.vertices=this.vertices.data(this.nodes,function(g){return g.id+"-"+g.type});this.vertices.attr("transform",function(g){return"translate("+g.x+","+g.y+")"});this.linkDrawing_();this.refreshZoom_()};this.render=function(){this.init_();var h=d3.layout.force().linkDistance(this.opts_.force.linkDistance).charge(this.opts_.force.charge).gravity(this.opts_.force.gravity).size([this.opts_.width,this.opts_.height]);
h.nodes(this.nodes).links(this.links).start();var m=this.parent.append("defs"),g=m.selectAll(".marker_e"),m=m.selectAll(".marker_s"),p=this.parent.append("g"),r=p.selectAll(".link"),p=p.selectAll(".label"),u=this.parent.append("g").selectAll(".node");this.arrowhead_end=g;this.arrowhead_start=m;this.vertices=u;this.edges=r;this.edgeLabel=p;this.layout=h;this.updateGraph_();return this};this.updateGraph_=function(){var h=this;this.arrowhead_end=this.arrowhead_end.data(this.layout.links(),function(g){return g.source.id+
"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.arrowhead_end.enter().append("marker").attr("class","marker_e").attr("id",function(g){return"arrow_e"+g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype}).attr("viewBox","0 -5 10 10").attr("refX",9).attr("refY",-.1).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class",function(g){return g.etype}).style("fill",function(g){return g.style.stroke});
this.arrowhead_end.exit().remove();this.arrowhead_start=this.arrowhead_start.data(this.layout.links(),function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.arrowhead_start.enter().append("marker").attr("class","marker_s").attr("id",function(g){return"arrow_s"+g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype}).attr("viewBox","0 -5 10 10").attr("refX",9).attr("refY",-.1).attr("markerWidth",6).attr("markerHeight",6).attr("orient",
"auto").append("path").attr("d","M0,0L10,-5L10,5").attr("class",function(g){return g.etype}).style("fill",function(g){return g.style.stroke});this.arrowhead_start.exit().remove();this.edges=this.edges.data(this.layout.links(),function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.edges.enter().insert("path",".node").attr("class",function(g){return g.etype}).attr("id",function(g){return"link_"+g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+
"_"+g.etype}).style("stroke",function(g){return g.style.stroke}).style("stroke-width",function(g){return g.style.strokeWidth+"px"}).style("opacity",function(g){return g.style.opacity}).classed("link",!0);this.edges.exit().remove();this.edgeLabel=this.edgeLabel.data(this.layout.links(),function(g){return g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype});this.edgeLabel.enter().append("g").attr("class","label");this.edgeLabel.exit().remove();var m=d3.behavior.drag().origin(function(g){return g}).on("dragstart",
function(){d3.event.sourceEvent.stopPropagation();d3.select(this).classed("dragging",!0)}).on("drag",function(g){d3.select(this).attr("transform","translate("+d3.event.x+", "+d3.event.y+")");g.x=d3.event.x;g.y=d3.event.y;h.linkDrawing_()}).on("dragend",function(){d3.select(this).classed("dragging",!1)});this.vertices=this.vertices.data(this.nodes,function(g){return g.id+"-"+g.type});m=this.vertices.enter().append("g").attr("class","node").call(m);this.vertices.on("click",bind(this,this.setOpacityHighlight));
m.append("path").attr("id",function(g){return"shape_"+g.id+"-"+g.type}).attr("d",function(g){return Q(g.style.shape,g.shapeSize)}).style("fill",function(g){return g.style.fill}).style("stroke",function(g){return g.style.stroke}).style("stroke-width",function(g){return g.style.strokeWidth}).style("opacity",function(g){return g.style.opacity}).attr("class",function(g){return g.type}).classed("shape",!0).each(function(g){g.style.dashed&&d3.select(this).style("stroke-dasharray",NLGraph.LINE_DASHED_PATTERN)});
m.append("text").attr("dy","0.2em").attr("y",0).classed("label",!0).style("font-size",this.normal_text_size+"px").text(function(g){return g.id+"-"+g.type}).style("text-anchor","middle").each(function(g){g.bbox=this.getBBox();g.ctm=this.getCTM()});m.insert("rect","text").classed("outline",!0).attr("x",function(g){return g.bbox.x}).attr("y",function(g){return g.bbox.y}).attr("width",function(g){return g.bbox.width}).attr("height",function(g){return g.bbox.height});this.vertices.exit().transition().remove();
this.layout.on("tick",function(){h.layout.alpha()<h.opts_.force.collisionAlpha&&h.handleCollisions_();h.vertices.attr("transform",function(g){return"translate("+g.x+","+g.y+")"});h.linkDrawing_();h.refreshZoom_()});this.layout.start()};this.linkDrawing_=function(){var h=this;this.edges.each(function(h){var g=h.source.radius,p=h.target.x,r=h.source.x,u=h.target.y,x=h.source.y;h.source.fisheye&&(g*=h.source.fisheye.z,p=h.target.fisheye.x,r=h.source.fisheye.x,u=h.target.fisheye.y,x=h.source.fisheye.y);
g+=8;p=Math.atan2(u-x,p-r);r+=Math.cos(p)*g;x+=Math.sin(p)*g;h.srcOuterRadius=[r,x];g=h.target.radius;r=h.target.x;p=h.source.x;x=h.target.y;u=h.source.y;h.target.fisheye&&(g*=h.target.fisheye.z,r=h.target.fisheye.x,p=h.source.fisheye.x,x=h.target.fisheye.y,u=h.source.fisheye.y);g+=8;p=Math.atan2(x-u,r-p);r-=Math.cos(p)*g;x-=Math.sin(p)*g;h.tgtOuterRadius=[r,x]}).attr("d",function(m){if(1==m.totalNoLinks){var g=m.srcOuterRadius[0],p=m.srcOuterRadius[1],r=m.tgtOuterRadius[0],u=m.tgtOuterRadius[1],
x=g,w=p;m.directionChanged=!1;g>r&&(g=r,p=u,r=x,u=w,m.directionChanged=!0);x=Math.sqrt((u-p)*(u-p)+(r-g)*(r-g));m.c0=[g+NLGraph.CONTROL_POINT_POS*x,p];m.c1=[r-x*NLGraph.CONTROL_POINT_POS,u];return"M"+g+","+p+"L"+r+","+u}g=S(m.totalNoLinks);g=h.genControlPoints4MultiLinks_(m,g[m.linkIndex]);m.c0=g[1];m.c1=g[2];return ra(g)}).attr("transform",function(h){var g=h.srcOuterRadius[0],p=h.srcOuterRadius[1],r=180*Math.atan2(h.tgtOuterRadius[1]-p,h.tgtOuterRadius[0]-g)/Math.PI;return 1==h.totalNoLinks?null:
"rotate("+r+" "+g+" "+p+")"});this.edges.each(function(h){var g=h.source.id+"-"+h.source.type+"_"+h.target.id+"-"+h.target.type+"_"+h.etype;h.directed&&(h.directionChanged?(d3.select(this).attr("marker-end",null),d3.select(this).attr("marker-start",function(){return"url(#arrow_s"+g+")"})):(d3.select(this).attr("marker-start",null),d3.select(this).attr("marker-end",function(){return"url(#arrow_e"+g+")"})));h.style.dashed&&d3.select(this).style("stroke-dasharray",NLGraph.LINE_DASHED_PATTERN)});this.edgeLabel.each(function(h){var g=
[],p={};if(0!=d3.select(this).selectAll("text")[0].length){d3.select(this).selectAll("text").each(function(){var g=d3.select(this).attr("multline").split("-")[0];p.hasOwnProperty(g)?p[g]=p[g]+" "+d3.select(this).text():p[g]=d3.select(this).text()});for(var r in p)p.hasOwnProperty(r)&&g.push(p[r]);d3.select(this).selectAll("text").remove();h=d3.select("#link_"+h.source.id+"-"+h.source.type+"_"+h.target.id+"-"+h.target.type+"_"+h.etype).node().getTotalLength();d3.select(this).call(T,g,h);var u=qa(-.2,
NLGraph.LABEL_LINE_HEIGHT,d3.select(this).selectAll("text")[0].length);u.sort(function(g,h){return g-h});d3.select(this).selectAll("text").each(function(g,h){d3.select(this).attr("dy",u[h]+"em")})}})};this.genControlPoints4MultiLinks_=function(h,m){for(var g=NLGraph.CONTROL_POINT_POS,p=h.srcOuterRadius[0],r=h.srcOuterRadius[1],u=h.tgtOuterRadius[0],x=h.tgtOuterRadius[1],w=u-p,E=x-r,K=Math.sqrt(w*w+E*E),u=p+K,x=r,w=u-p,E=x-r,g=[[p,r],[p+K*g,r-25],[u-K*g,x-25],[u,x]],K=-1,I,O;3>=++K;)I=g[K],O=K/3,I[0]=
0<m?m*I[0]+(1-m)*(p+O*w):-m*I[0]+(1+m)*(p+O*w),I[1]=m*I[1]+(1-m)*(r+O*E);w=180*Math.atan2(g[1][1]-r,g[1][0]-p)/Math.PI;p=fa(p,r,p+6,r,w);w=180*Math.atan2(x-g[2][1],u-g[2][0])/Math.PI;r=fa(u,x,u-6,r,w);if(h.srcOuterRadius[0]>h.tgtOuterRadius[0])return h.directionChanged=!0,[r,g[2],g[1],p];h.directionChanged=!1;return[p,g[1],g[2],r]};this.genControlPoints=function(h){var m=h.directed?2:0,g=h.source.radius+2,p=h.target.radius+2,r=[0,0],u=[0,0],x=h.srcOuterRadius[0],w=h.srcOuterRadius[1],E=h.tgtOuterRadius[0],
K=h.tgtOuterRadius[1],I=h.source.id+"-"+h.source.type+"_"+h.target.id+"-"+h.target.type,O=h.target.id+"-"+h.target.type+"_"+h.source.id+"-"+h.source.type,I=this.multiLinksTotalNumDict.hasOwnProperty(I)?I:O,O=20*(this.multiLinksTotalNumDict[I]-1-2*h.linkIndex)/2,I=Math.sqrt((x-E)*(x-E)+(w-K)*(w-K)),M=.25*(I-20)+10,Q=.75*(I-20)+10,S=180*Math.atan2(K-w,E-x)/Math.PI;r[0]=x+M;r[1]=w+O;u[0]=x+Q;u[1]=w+O;r=fa(x,w,r[0],r[1],S);u=fa(x,w,u[0],u[1],S);h.c0=r;h.c1=u;h=Math.sqrt((u[0]-E)*(u[0]-E)+(u[1]-K)*(u[1]-
K));O=x-g*(x-r[0])/h;M=w-g*(w-r[1])/h;Q=E-(p+m)*(E-u[0])/h;m=K-(p+m)*(K-u[1])/h;h<p&&(I<g&&(O=x,M=K,Q=E,m=K),u[0]=.5*E+.5*x,u[1]=.5*K+.5*w,r=u);return[[O,M],r,u,[Q,m]]};this.isConnected_=function(h,m){if("undefined"!=typeof h.id&&"undefined"!=typeof h.type&&"undefined"!=typeof m.id&&"undefined"!=typeof m.type){var g=h.id+"-"+h.type,p=m.id+"-"+m.type;return this.connectedDict[g+"_"+p]||this.connectedDict[p+"_"+g]||g==p}return!1};this.isConnected=function(h,m,g,p){return"undefined"!=typeof h&&"undefined"!=
typeof m&&"undefined"!=typeof g&&"undefined"!=typeof p?(h=h+"-"+m,g=g+"-"+p,this.connectedDict[h+"_"+g]||this.connectedDict[g+"_"+h]||h==g):!1};this.hasIncomingConnections=function(h,m){for(var g in this.incomingNodes)if(g==h+"-"+m)return!0;return!1};this.hasOutgoingConnections=function(h,m){for(var g in this.outgoingNodes)if(g==h+"-"+m)return!0;return!1};this.hasConnections=function(h,m){for(var g in this.connectedDict)if(this.connectedDict.hasOwnProperty(g)){var p=g.split("_");if(p[0]==h+"-"+m||
p[1]==h+"-"+m&&this.connectedDict[g])return!0}return!1};this.zoom=function(h){if("undefined"===typeof h)return this;if(this.isRendered()){var m=this.zoomL,g=[this.opts_.width/2,this.opts_.height/2],p=this.getLocation(g);h=h<this.opts_.zoomScaleExtent[0]?this.opts_.zoomScaleExtent[0]:h>this.opts_.zoomScaleExtent[1]?this.opts_.zoomScaleExtent[1]:h;m.scale(h);this.translateTo(g,p);this.refreshZoom_(!0)}else this.opts_.initialScale=h;return this};this.zoomIn=function(){var h=this.getScale(),h=Math.pow(2,
Math.floor(Math.log(h)/Math.LN2)+1),h=Math.min(h,this.opts_.zoomScaleExtent[1]);return this.zoom(h)};this.zoomOut=function(){var h=this.getScale(),h=Math.pow(2,Math.ceil(Math.log(h)/Math.LN2)-1),h=Math.max(h,this.opts_.zoomScaleExtent[0]);return this.zoom(h)};this.refreshZoom_=function(h){var m=this.zoomL,g=this.getTranslation(),p=this.getScale();h?this.parent.transition().duration(500).attr("transform","translate("+m.translate()+") scale("+m.scale()+")"):this.parent.attr("transform","translate("+
g+") scale("+p+")")};this.updateBrush_=function(){if(!d3.event.target){var h=d3.event.target.extent();d3.selectAll(".node").select(".shape").classed("selected",function(m){return h[0][0]<=m.x&&m.x<h[1][0]&&h[0][1]<=m.y&&m.y<h[1][1]?!0:!1})}};this.setNodeLabel=function(h,m,g){for(var p=this.getNodeByKey(h,m),r=[],u=NLGraph.LABEL_LINE_HEIGHT,x=0;x<g.length;++x)r.push(g[x]+": "+this.getObjAttrUpDown(p.attr,g[x]));var w=da(.2,u,g.length);this.vertices.select(".label").each(function(g){if(g.id==h&&g.type==
m){d3.select(this).text(null);for(var p=d3.select(this).attr("y"),u=0;u<r.length;++u)d3.select(this).append("tspan").attr("x",0).attr("y",p).attr("dy",w[u]+"em").text(r[u])}g.bbox=this.getBBox();g.ctm=this.getCTM()});this.vertices.select(".outline").attr("x",function(g){return g.bbox.x}).attr("y",function(g){return g.bbox.y}).attr("width",function(g){return g.bbox.width}).attr("height",function(g){return g.bbox.height});return this};this.setNodeTypeLabel=function(h,m){var g=da(.2,NLGraph.LABEL_LINE_HEIGHT,
m.length);this.vertices.select(".label").each(function(p){if(p.type==h){for(var r=[],u=0;u<m.length;++u)r.push(m[u]+": "+(null==p.attr[m[u]]?p[m[u]]:p.attr[m[u]]));d3.select(this).text(null);for(var u=d3.select(this).attr("y"),x=0;x<r.length;++x)d3.select(this).append("tspan").attr("x",0).attr("y",u).attr("dy",g[x]+"em").text(r[x])}p.bbox=this.getBBox();p.ctm=this.getCTM()});this.vertices.select(".outline").attr("x",function(g){return g.bbox.x}).attr("y",function(g){return g.bbox.y}).attr("width",
function(g){return g.bbox.width}).attr("height",function(g){return g.bbox.height});return this};this.setEdgeLabel=function(h,m,g,p,r,u){for(var x=this.linksObj[h+"-"+m+"_"+g+"-"+p+"_"+r],w=[],E=0;E<u.length;++E)w.push(u[E]+": "+this.getObjAttrUpDown(x.attr,u[E]));this.edgeLabel.each(function(u){if(u.source.id==h&&u.source.type==m&&u.target.id==g&&u.target.type==p&&u.etype==r){d3.select(this).selectAll("text").remove();u=d3.select("#link_"+u.source.id+"-"+u.source.type+"_"+u.target.id+"-"+u.target.type+
"_"+u.etype).node().getTotalLength();d3.select(this).call(T,w,u);var x=qa(-.2,NLGraph.LABEL_LINE_HEIGHT,d3.select(this).selectAll("text")[0].length);x.sort(function(g,h){return g-h});d3.select(this).selectAll("text").each(function(g,h){d3.select(this).attr("dy",x[h]+"em")})}});return this};this.setEdgeTypeLabel=function(h,m){var g=this;this.edgeLabel.each(function(p){p.etype==h&&g.setEdgeLabel(p.source.id,p.source.type,p.target.id,p.target.type,h,m)});return g};this.setOpacityHighlight=function(h){this.mouse_click_node=
h;this.setConnectedOpacity_(h);this.setConnectedHighlight_(h)};this.setConnectedOpacity_=function(h){var m=this;this.vertices.select(".shape").style("opacity",function(g){return m.isConnected_(h,g)?1:.1});this.vertices.select(".label").style("opacity",function(g){return m.isConnected_(h,g)?1:.1});this.edges.style("opacity",function(g){return g.source.index==h.index||g.target.index==h.index?1:.1});this.edgeLabel.style("opacity",function(g){return g.source.index==h.index||g.target.index==h.index?1:
.1});d3.selectAll(".node .outline").style("opacity",function(g){return m.isConnected_(h,g)?1:.1})};this.setConnectedHighlight_=function(h){d3.event&&d3.event.stopPropagation();this.unHighlight();var m=this;this.vertices.select(".shape").style("stroke",function(g){return m.isConnected_(h,g)?m.opts_.highlightColor:g.style.stroke});this.vertices.select(".label").style("font-weight",function(g){return m.isConnected_(h,g)?"bold":"normal"})};this.showConnections=function(h,m){if("undefined"!=typeof h&&
"undefined"!=typeof m){var g=this.getNodeByKey(h,m);this.setConnectedOpacity_(g)}return this};this.highlightConnections=function(h,m){if("undefined"!=typeof h&&"undefined"!=typeof m){var g=this.getNodeByKey(h,m);this.setConnectedHighlight_(g)}return this};this.highLight=function(h,m){var g=this;this.vertices.select(".shape").style("stroke",function(m){for(var p=m.id+"-"+m.type,r=!1,w=0;w<h.length;++w)if(h[w][0]+"-"+h[w][1]==p){r=!0;break}return r?g.opts_.highlightColor:m.style.stroke});this.vertices.select(".label").style("font-weight",
function(g){g=g.id+"-"+g.type;for(var m=!1,p=0;p<h.length;++p)if(h[p][0]+"-"+h[p][1]==g){m=!0;break}return m?"bold":"normal"});this.edges.style("stroke",function(h){for(var p=h.source.id+"-"+h.source.type+"_"+h.target.id+"-"+h.target.type+"_"+h.etype,r=!1,w=0;w<m.length;++w)if(m[w][0]+"-"+m[w][1]+"_"+m[w][2]+"-"+m[w][3]+"_"+m[w][4]==p){r=!0;break}return r?g.opts_.highlightColor:h.style.stroke});for(var p=0;p<m.length;++p){var r="arrow_s"+m[p][0]+"-"+m[p][1]+"_"+m[p][2]+"-"+m[p][3]+"_"+m[p][4];d3.select("#"+
("arrow_e"+m[p][0]+"-"+m[p][1]+"_"+m[p][2]+"-"+m[p][3]+"_"+m[p][4])).select("path").style("fill",g.opts_.highlightColor);d3.select("#"+r).select("path").style("fill",g.opts_.highlightColor)}return this};this.hideNodes=function(h){function m(g){g=g.id+"-"+g.type;for(var m=!1,r=0;r<h.length;++r)if(h[r][0]+"-"+h[r][1]==g){m=!0;break}return m?"none":null}this.vertices.select(".shape").style("display",function(g){g=g.id+"-"+g.type;for(var m=!1,r=0;r<h.length;++r)if(h[r][0]+"-"+h[r][1]==g){m=!0;break}return m?
"none":null});this.vertices.select(".label").style("display",function(g){return m(g)});this.vertices.select(".outline").style("display",function(g){return m(g)});return this};this.hideEdges=function(h){this.edges.style("display",function(m){m=m.source.id+"-"+m.source.type+"_"+m.target.id+"-"+m.target.type+"_"+m.etype;for(var g=!1,p=0;p<h.length;++p)if(h[p][0]+"-"+h[p][1]+"_"+h[p][2]+"-"+h[p][3]+"_"+h[p][4]==m){g=!0;break}return g?"none":null});return this};this.unHide=function(){this.vertices.select(".shape").style("display",
null);this.vertices.select(".label").style("display",null);this.vertices.select(".outline").style("display",null);this.edges.style("display",null);return this};this.unHighlight=function(){this.highlight_node=null;this.vertices.select(".shape").style("stroke",function(h){return h.style.stroke});this.vertices.select(".label").style("font-weight","normal");this.edges.style("stroke",function(h){return h.style.stroke});d3.selectAll(".marker_e").select("path").style("fill",function(h){return h.style.stroke});
d3.selectAll(".marker_s").select("path").style("fill",function(h){return h.style.stroke});return this};this.setNodeStyle=function(h,m,g){this.vertices.select(".shape").each(function(p){p.id==h&&p.type==m&&(d3.select(this).style("fill",function(h){return g.fill||h.style.fill}).style("stroke",function(h){return g.stroke||h.style.stroke}).style("stroke-width",function(h){return g.strokeWidth||h.style.strokeWidth}).style("opacity",function(h){return g.opacity||h.style.opacity}),g.dashed?d3.select(this).style("stroke-dasharray",
NLGraph.LINE_DASHED_PATTERN):d3.select(this).style("stroke-dasharray",null),g.shape&&d3.select(this).attr("d",Q(g.shape,g.size?nodeSizeFunc(g.size):p.shapeSize)))});return this};this.setNodeTypeStyle=function(h,m){this.vertices.select(".shape").each(function(g){g.type==h&&(d3.select(this).style("fill",function(g){return m.fill||g.style.fill}).style("stroke",function(g){return m.stroke||g.style.stroke}).style("stroke-width",function(g){return m.strokeWidth||g.style.strokeWidth}).style("opacity",function(g){return m.opacity||
g.style.opacity}),m.dashed?d3.select(this).style("stroke-dasharray",NLGraph.LINE_DASHED_PATTERN):d3.select(this).style("stroke-dasharray",null),m.shape&&d3.select(this).attr("d",Q(m.shape,m.size?nodeSizeFunc(m.size):g.shapeSize)))});return this};this.setEdgeStyle=function(h,m,g,p,r,u){var w=h+"-"+m+"_"+g+"-"+p+"_"+r;this.edges.each(function(g){g.source.id+"-"+g.source.type+"_"+g.target.id+"-"+g.target.type+"_"+g.etype==w&&(d3.select(this).style("stroke",function(g){return u.stroke||g.style.stroke}).style("stroke-width",
function(g){return u.strokeWidth||g.style.strokeWidth+"px"}).style("opacity",function(g){return u.opacity||g.style.opacity}),u.directed?(d3.select(this).attr("marker-end",function(g){return"url(#arrow_"+d3.select(this).attr("id")+")"}),d3.select("#arrow_"+d3.select(this).attr("id")+" path").style("fill",u.stroke||g.style.stroke)):d3.select(this).attr("marker-end",null),u.dashed?d3.select(this).style("stroke-dasharray",NLGraph.LINE_DASHED_PATTERN):d3.select(this).style("stroke-dasharray",null))});
return this};this.setEdgeTypeStyle=function(h,m){this.edges.each(function(g){g.etype==h&&(d3.select(this).style("stroke",function(g){return m.stroke||g.style.stroke}).style("stroke-width",function(g){return m.strokeWidth||g.style.strokeWidth+"px"}).style("opacity",function(g){return m.opacity||g.style.opacity}),m.directed?(d3.select(this).attr("marker-end",function(g){return"url(#arrow_"+d3.select(this).attr("id")+")"}),d3.select("#arrow_"+d3.select(this).attr("id")+" path").style("fill",m.stroke||
g.style.stroke)):d3.select(this).attr("marker-end",null),m.dashed?d3.select(this).style("stroke-dasharray",NLGraph.LINE_DASHED_PATTERN):d3.select(this).style("stroke-dasharray",null))});return this};this.resetOpacity=function(){this.vertices.select(".shape").style("opacity",function(h){return h.style.opacity});this.vertices.select(".label").style("opacity",1);this.edges.style("opacity",function(h){return h.style.opacity});d3.selectAll(".node .outline").style("opacity",1);this.edgeLabel.style("opacity",
1);return this};this.handleCollisions_=function(){function h(g,h){var m=g.radius+10,p=g.x-m,r=g.x+m,w=g.y-m,I=g.y+m;return function(m,O,Q,R,S){if(m.point&&m.point!==g){var T=g.x-m.point.x,X=g.y-m.point.y,da=Math.sqrt(T*T+X*X),fa=g.radius+m.point.radius+20;da<fa&&(da=(da-fa)/da*h,g.x-=T*=da,g.y-=X*=da,m.point.x+=T,m.point.y+=X)}return O>r||R<p||Q>I||S<w}}for(var m=this.nodes,g=d3.geom.quadtree(m),p=0,r=m.length;++p<r;)g.visit(h(m[p],this.opts_.force.collisionAlpha))};this.isRendered=function(){return!!this.vertices};
this.getContainer_=function(){return d3.select(this.container_)};this.getCluster=function(h){return this.getObjAttr(h.attr,"cluster")};this.getNodeSize=function(h){return this.getObjAttr(h.style,"size")};this.getNodeByKey=function(h,m){return this.nodesObj[h+"-"+m]};this.getLinkByKey=function(h,m,g,p,r){return this.linksObj[h+"-"+m+"_"+p+"-"+p+"_"+r]};this.getNodeShape=function(h){return this.getObjAttr(h.style,"shape")};this.getNodeStyle=function(h){return{fill:this.getObjAttr(h.style,"fill"),stroke:this.getObjAttr(h.style,
"stroke"),strokeWidth:this.getObjAttr(h.style,"strokeWidth"),opacity:this.getObjAttr(h.style,"opacity")}};this.getLinkStyle=function(h){return{stroke:this.getObjAttr(h.style,"stroke"),strokeWidth:this.getObjAttr(h.style,"strokeWidth"),opacity:this.getObjAttr(h.style,"opacity")}};this.getLocation=function(h){var m=this.getTranslation(),g=this.getScale();return[(h[0]-m[0])/g,(h[1]-m[1])/g]};this.getPoint=function(h){var m=this.getTranslation(),g=this.getScale();return[h[0]*g+m[0],h[1]*g+m[1]]};this.getTranslation=
function(){return this.zoomL.translate()};this.getScale=function(){return this.zoomL.scale()};this.translateTo=function(h,m){var g=this.getTranslation(),p=this.getPoint(m);g[0]+=h[0]-p[0];g[1]+=h[1]-p[1];this.zoomL.translate(g)};this.getObjAttr=function(h,m){return h.hasOwnProperty(m)?h[m]:null};this.getObjAttrUpDown=function(h,m){return h.hasOwnProperty(m)?h[m]:h.attr.hasOwnProperty(m)?h.attr[m]:null}};NLGraph.version="0.2";NLGraph.BASE_CONTAINER_CLASS="nl_graph";NLGraph.NODE_RADIUS_RANGE=[5,40];
NLGraph.NORMAL_BASE_NODE_SIZE=8;NLGraph.LINE_DASHED_PATTERN="5, 5";NLGraph.CONTROL_POINT_POS=.25;NLGraph.LABEL_LINE_HEIGHT=1;